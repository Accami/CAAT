var CAAT=CAAT||{};function extend(a,b,c){var d=function(){},e;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.superclass=b.prototype;if(b.prototype.constructor==Object.prototype.constructor)b.prototype.constructor=b;if(c)for(e in c)if(c.hasOwnProperty(e))a.prototype[e]=c[e]};var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(c.indexOf(a[b].subString)!=-1)return a[b].identity}else if(d)return a[b].identity}},
searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(b!=-1)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,
subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],
dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();(function(){CAAT.Actor=function(){this.transformationMatrix=new CAAT.MatrixStack;this.rpoint=new CAAT.Point;this.behaviourList=[];return this};CAAT.Actor.prototype={behaviourList:null,parent:null,x:0,y:0,width:0,height:0,start_time:0,duration:Number.MAX_VALUE,transformationMatrix:null,rpoint:null,clip:true,scaleX:0,scaleY:0,scaleTX:0,scaleTY:0,scaleAnchor:0,rotationAngle:0,rotationX:0,rotationY:0,alpha:1,expired:false,discardable:false,selected:false,pointed:false,mouseEnabled:true,ANCHOR_CENTER:0,
ANCHOR_TOP:1,ANCHOR_BOTTOM:2,ANCHOR_LEFT:3,ANCHOR_RIGHT:4,ANCHOR_TOP_LEFT:5,ANCHOR_TOP_RIGHT:6,ANCHOR_BOTTOM_LEFT:7,ANCHOR_BOTTOM_RIGHT:8,fillStyle:null,time:0,animate:function(a,b){this.time=b;for(var c=0;c<this.behaviourList.length;c++)this.behaviourList[c].apply(b,this);c=a.crc;c.save();c.globalAlpha*=this.alpha;this.prepareGraphics(c);this.paint(a,b);c.restore()},emptyBehaviourList:function(){this.behaviourList=[]},prepareGraphics:function(a){this.transformationMatrix.prepareGraphics(a,this)},
setPaint:function(a){this.fillStyle=a},setAlpha:function(a){this.alpha=a},resetTransform:function(){this.rotationY=this.rotationX=this.rotateAnchor=this.rotationAngle=0;this.scaleY=this.scaleX=1;this.scaleAnchor=this.scaleTY=this.scaleTX=0},setFrameTime:function(a,b){this.start_time=a;this.duration=b;this.expired=false},paint:function(a){a=a.crc;if(null!=this.parent&&null!=this.fillStyle){a.fillStyle=this.pointed?"orange":this.fillStyle!=null?this.fillStyle:"white";a.fillRect(0,0,this.width,this.height)}if(this.clip){a.beginPath();
a.rect(0,0,this.width,this.height);a.clip()}},setScale:function(a,b){this.setScaleAnchored(a,b,this.ANCHOR_CENTER)},getAnchor:function(a){var b=0,c=0;switch(a){case this.ANCHOR_CENTER:b=this.width/2;c=this.height/2;break;case this.ANCHOR_TOP:b=this.width/2;c=0;break;case this.ANCHOR_BOTTOM:b=this.width/2;c=this.height;break;case this.ANCHOR_LEFT:b=0;c=this.height/2;break;case this.ANCHOR_RIGHT:b=this.width;c=this.height/2;break;case this.ANCHOR_TOP_RIGHT:b=this.width;c=0;break;case this.ANCHOR_BOTTOM_LEFT:b=
0;c=this.height;break;case this.ANCHOR_BOTTOM_RIGHT:b=this.width;c=this.height;break;case this.ANCHOR_TOP_LEFT:c=b=0;break}return{x:b,y:c}},setScaleAnchored:function(a,b,c){this.scaleAnchor=c;c=this.getAnchor(this.scaleAnchor);this.scaleTX=c.x;this.scaleTY=c.y;this.scaleX=a;this.scaleY=b},setRotation:function(a){this.setRotationAnchored(a,this.width/2,this.height/2)},setRotationAnchored:function(a,b,c){this.rotationAngle=a;this.rotationX=b?b:0;this.rotationY=c?c:0},setSize:function(a,b){this.width=
a;this.height=b},setBounds:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},setLocation:function(a,b){this.x=a;this.y=b},isInAnimationFrame:function(a){if(this.duration==Number.MAX_VALUE)return this.start_time<=a;return this.start_time<=a&&a<this.start_time+this.duration},hasListener:function(){return true},contains:function(a,b){return a>=0&&b>=0&&a<this.width&&b<this.height},create:function(){this.rotateAnchor=this.scaleAnchor=this.ANCHOR_CENTER;this.setScale(1,1);this.setRotation(0);
this.behaviourList=[]},addBehaviour:function(a){this.behaviourList.push(a)},initialize:function(){},destroy:function(){},inverseTransformCoord:function(a){for(var b=this;b;){b.transformationMatrix.inverseTransformCoord(a);b=b.parent}return a},findActorAtPosition:function(a){if(false==this.mouseEnabled)return null;this.rpoint.set(a.x,a.y);this.transformationMatrix.inverseTransformCoord(this.rpoint);return this.contains(this.rpoint.x,this.rpoint.y)?this:null},enableDrag:function(){this.my=this.mx=this.ay=
this.ax=0;this.asy=this.asx=1;this.screeny=this.screenx=this.ara=0;this.mouseEnter=function(){this.ay=this.ax=-1;this.pointed=true;document.body.style.cursor="move"};this.mouseExit=function(){this.ay=this.ax=-1;this.pointed=false;document.body.style.cursor="default"};this.mouseMove=function(a){this.mx=a.point.x;this.my=a.point.y};this.mouseUp=function(){this.ay=this.ax=-1};this.mouseDrag=function(a){if(this.ax==-1||this.ay==-1){this.ax=a.point.x;this.ay=a.point.y;this.asx=this.scaleX;this.asy=this.scaleY;
this.ara=this.rotationAngle;this.screenx=a.screenPoint.x;this.screeny=a.screenPoint.y}if(a.isShiftDown()){var b=(a.screenPoint.x-this.screenx)/100,c=(a.screenPoint.y-this.screeny)/100;if(!a.isAltDown())c=b=a=Math.max(b,c);this.setScale(b+this.asx,c+this.asy)}else if(a.isControlDown())this.setRotation(-Math.atan2(a.screenPoint.x-this.screenx,a.screenPoint.y-this.screeny)+this.ara);else{this.x+=a.point.x-this.ax;this.y+=a.point.y-this.ay;this.ax=a.point.x;this.ay=a.point.y}}},mouseClick:function(){},
mouseDblClick:function(){},mouseEnter:function(){this.pointed=true},mouseExit:function(){this.pointed=false},mouseMove:function(){},mouseDown:function(){},mouseUp:function(){},mouseDrag:function(){}}})();
(function(){CAAT.ActorContainer=function(){CAAT.ActorContainer.superclass.constructor.call(this);this.childList=[];return this};extend(CAAT.ActorContainer,CAAT.Actor,{animate:function(a,b){var c;for(c=0;c<this.behaviourList.length;c++)this.behaviourList[c].apply(b,this);var d=a.crc;d.globalAlpha*=this.alpha;this.prepareGraphics(d);this.paint(a,b);if(this.clip){d.beginPath();d.rect(0,0,this.width,this.height);d.clip()}for(c=0;c<this.childList.length;c++)if(this.childList[c].isInAnimationFrame(b)){d.save();
this.childList[c].animate(a,b);d.restore()}},setExpired:function(a){if(a){this.expired=true;this.duration=0;this.start_time=-1}},addChild:function(a){a.parent=this;this.childList.push(a)},findChild:function(a){for(var b in this.childList)if(this.childList[b]==a)return b;return-1},removeChild:function(a){a=this.findChild(a);-1!=a&&this.childList.splice(a,1)},findActorAtPosition:function(a){if(null==CAAT.ActorContainer.superclass.findActorAtPosition.call(this,a))return null;for(a=this.childList.length-
1;a>=0;a--){var b=this.childList[a].findActorAtPosition(this.rpoint);if(null!=b)return b}return this}})})();
(function(){CAAT.SpriteActor=function(){CAAT.SpriteActor.superclass.constructor.call(this);return this};extend(CAAT.SpriteActor,CAAT.Actor,{conpoundbitmap:null,animationImageIndex:null,prevAnimationTime:-1,changeFPS:1E3,transformation:0,spriteIndex:0,TR_NONE:0,TR_FLIP_HORIZONTAL:1,TR_FLIP_VERTICAL:2,TR_FLIP_ALL:3,prevX:-1,prevY:-1,setSpriteImage:function(a){this.conpoundbitmap=a;this.width=a.singleWidth;this.height=a.singleHeight;null==this.animationImageIndex&&this.setAnimationImageIndex([0])},setAnimationImageIndex:function(a){this.animationImageIndex=
a;this.spriteIndex=a[0]},animate:function(a,b){if(this.conpoundbitmap&&this.animationImageIndex){if(this.animationImageIndex.length>1)if(this.prevAnimationTime==-1)this.prevAnimationTime=b;else{ttime=b;ttime-=this.prevAnimationTime;ttime/=this.changeFPS;ttime%=this.animationImageIndex.length;this.spriteIndex=this.animationImageIndex[Math.floor(ttime)]}CAAT.SpriteActor.superclass.animate.call(this,a,b)}},paint:function(a){a=a.crc;switch(this.transformation){case this.TR_FLIP_HORIZONTAL:this.conpoundbitmap.paintInvertedH(a,
this.spriteIndex,0,0);break;case this.TR_FLIP_VERTICAL:this.conpoundbitmap.paintInvertedV(a,this.spriteIndex,0,0);break;case this.TR_FLIP_ALL:this.conpoundbitmap.paintInvertedHV(a,this.spriteIndex,0,0);break;default:this.conpoundbitmap.paint(a,this.spriteIndex,0,0)}}})})();
(function(){CAAT.TextActor=function(){CAAT.TextActor.superclass.constructor.call(this);this.font="10px sans-serif";this.textAlign="left";this.textBaseline="top";this.outlineColor="black";return this};extend(CAAT.TextActor,CAAT.Actor,{font:null,textAlign:null,textBaseline:null,fill:true,text:null,maxWidth:null,outline:false,outlineColor:null,path:null,sign:1,setText:function(a){this.text=a},paint:function(a,b){if(null!=this.text){var c=a.crc;if(null!=this.font)c.font=this.font;if(null!=this.textAlign)c.textAlign=
this.textAlign;if(null!=this.textBaseline)c.textBaseline=this.textBaseline;if(null!=this.fillStyle)c.fillStyle=this.fillStyle;if(null==this.path)if(this.fill){c.fillText(this.text,0,0);if(this.outline){if(null!=this.outlineColor)c.strokeStyle=this.outlineColor;c.beginPath();c.strokeText(this.text,0,0)}}else{if(null!=this.outlineColor)c.strokeStyle=this.outlineColor;c.strokeText(this.text,0,0)}else this.drawOnPath(a,b)}},drawOnPath:function(a,b){for(var c=a.crc,d=this.sign*(b%1E4)*this.path.getLength()/
1E4,e=new CAAT.Point,f=new CAAT.Point,g=0;g<this.text.length;g++){var h=this.text[g].toString(),j=c.measureText(h).width;this.path.getLength();var i=j/2+d,k=this.path.getPositionFromLength(i);e.set(k.x,k.y);i=this.path.getPositionFromLength(i-0.1);f.set(i.x,i.y);i=Math.atan2(e.y-f.y,e.x-f.x);c.save();c.translate(e.x,e.y);c.rotate(i);c.fillText(h,0,0);c.restore();d+=j}},setPath:function(a){this.path=a;this.setBounds(0,0,parent.width,parent.height);this.mouseEnabled=false}})})();(function(){CAAT.ConpoundBitmap=function(){};CAAT.ConpoundBitmap.prototype={NORMAL:1,INV_VERTICAL:2,INV_HORIZONTAL:4,INV_VERTICAL_AND_HORIZONTAL:8,image:null,rows:0,cols:0,width:0,height:0,singleWidth:0,singleHeight:0,initialize:function(a,b,c){this.image=a;this.rows=b;this.cols=c;this.width=a.width;this.height=a.height;this.singleWidth=Math.floor(this.width/c);this.singleHeight=Math.floor(this.height/b)},paintInvertedH:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.singleWidth;b=Math.floor(b/
this.cols)*this.singleHeight;a.save();a.translate(c+this.singleWidth,d);a.scale(-1,1);try{a.drawImage(this.image,e,b,this.singleWidth,this.singleHeight,0,0,this.singleWidth,this.singleHeight)}catch(f){}a.restore()},paintInvertedV:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.singleWidth;b=Math.floor(b/this.cols)*this.singleHeight;a.save();a.translate(c,d+this.singleHeight);a.scale(1,-1);try{a.drawImage(this.image,e,b,this.singleWidth,this.singleHeight,0,0,this.singleWidth,this.singleHeight)}catch(f){}a.restore()},
paintInvertedHV:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.singleWidth;b=Math.floor(b/this.cols)*this.singleHeight;a.save();a.translate(c,d+this.singleHeight);a.scale(1,-1);a.translate(this.singleWidth,0);a.scale(-1,1);try{a.drawImage(this.image,e,b,this.singleWidth,this.singleHeight,0,0,this.singleWidth,this.singleHeight)}catch(f){}a.restore()},paint:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.singleWidth;b=Math.floor(b/this.cols)*this.singleHeight;try{a.drawImage(this.image,e,
b,this.singleWidth,this.singleHeight,c,d,this.singleWidth,this.singleHeight)}catch(f){}},paintScaled:function(a,b,c,d,e,f){a.drawImage(this.image,Math.floor(b%this.cols)*this.singleWidth,Math.floor(b/this.cols)*this.singleHeight,this.singleWidth,this.singleHeight,c,d,e,f)},getNumImages:function(){return this.rows*this.cols}}})();(function(){CAAT.ImagePreloader=function(){this.images=[];return this};CAAT.ImagePreloader.prototype={images:null,notificationCallback:null,imageCounter:0,loadImages:function(a,b){var c=this;this.notificationCallback=b;this.images=[];for(var d=0;d<a.length;d++){this.images.push(new Image);this.images[d].onload=function(){c.imageCounter++;c.imageCounter===c.images.length&&c.notificationCallback.call(c,c.images)};this.images[d].src=a[d]}},addImage:function(a){var b=this,c=new Image;this.images.push(c);
c.url=a;c.onload=function(){b.imageCounter++;b.imageCounter===b.images.length&&b.notificationCallback.call(b,b.images)}},getLoadedImages:function(){return this.images},setCallback:function(a){this.imageCounter=0;this.notificationCallback=a;for(a=0;a<this.images.length;a++)this.images[a].src=this.images[a].url}}})();(function(){CAAT.Pez=function(){CAAT.Pez.superclass.constructor.call(this);this.setAnimationImageIndex([0,1,2,1]);this.changeFPS=300;return this};extend(CAAT.Pez,CAAT.SpriteActor,{path:null,prevX:-1,prevY:-1,animate:function(a,b){var c=this.pathMeasure.positionOnTime(b);c.x-=this.width/2;var d=1;d=this.x<=c.x?-1:0;c.y+=this.height*d;if(-1==this.prevX&&-1==this.prevY){this.prevX=c.x;this.prevY=c.y}else{var e=Math.atan2(c.y-this.y,c.x-this.x);if(this.x<=c.x)this.transformation=CAAT.SpriteActor.prototype.TR_NONE;
else{this.transformation=CAAT.SpriteActor.prototype.TR_FLIP_HORIZONTAL;e+=Math.PI}this.setRotationAnchored(e,this.width/2,-this.height*d)}this.prevX=c.x;this.prevY=c.y;this.setLocation(c.x,c.y);CAAT.Pez.superclass.animate.call(this,a,b)}})})();(function(){CAAT.Director=function(){this.scenes=[];CAAT.Director.superclass.constructor.call(this)};extend(CAAT.Director,CAAT.ActorContainer,{scenes:null,currentScene:null,canvas:null,crc:null,time:0,initialize:function(a){this.setBounds(0,0,a.width,a.height);this.create();this.canvas=a;this.crc=a.getContext("2d")},render:function(a){this.crc.fillStyle=this.fillStyle?this.fillStyle:"white";this.crc.fillRect(0,0,this.width,this.height);this.time=a;this.crc.globalAlpha=1;this.crc.setTransform(1,0,
0,1,0,0);for(var b=0;b<this.childList.length;b++)if(this.childList[b].isInAnimationFrame(a)){this.crc.save();this.childList[b].animate(this,a-this.childList[b].start_time);this.crc.restore()}},addScene:function(a){a.setBounds(0,0,this.width,this.height);this.scenes.push(a);a.setEaseListener(this)},getNumScenes:function(){return this.scenes.length},easeInOut:function(a,b,c,d,e,f,g,h,j,i){a=this.scenes[a];d=this.scenes[d];a.setFrameTime(this.time,Number.MAX_VALUE);d.setFrameTime(this.time,Number.MAX_VALUE);
a.resetTransform();d.resetTransform();a.setLocation(0,0);d.setLocation(0,0);a.alpha=1;d.alpha=1;if(b==CAAT.Scene.prototype.EASE_ROTATION)a.easeRotationIn(g,h,c,j);else b==CAAT.Scene.prototype.EASE_SCALE?a.easeScaleIn(0,g,h,c,j):a.easeTranslationIn(g,h,c,j);if(e==CAAT.Scene.prototype.EASE_ROTATION)d.easeRotationOut(g,h,f,i);else e==CAAT.Scene.prototype.EASE_SCALE?d.easeScaleOut(0,g,h,f,i):d.easeTranslationOut(g,h,f,i);this.childList=[];this.addChild(d);this.addChild(a)},easeInOutRandom:function(a,
b,c,d){var e=Math.random(),f=Math.random();if(this.getBrowserName()=="Firefox"){e=e<0.5?CAAT.Scene.prototype.EASE_ROTATION:CAAT.Scene.prototype.EASE_TRANSLATE;f=f<0.5?CAAT.Scene.prototype.EASE_ROTATION:CAAT.Scene.prototype.EASE_TRANSLATE;this.easeInOut(a,e,Math.random()*8.99>>0,b,f,Math.random()*8.99>>0,c,d)}else{var g;if(e<0.33){e=CAAT.Scene.prototype.EASE_ROTATION;g=(new CAAT.Interpolator).createExponentialInOutInterpolator(4)}else if(e<0.66){e=CAAT.Scene.prototype.EASE_SCALE;g=(new CAAT.Interpolator).createElasticOutInterpolator(1.1,
0.4)}else{e=CAAT.Scene.prototype.EASE_TRANSLATE;g=(new CAAT.Interpolator).createBounceOutInterpolator()}if(f<0.33){f=CAAT.Scene.prototype.EASE_ROTATION;interpolatorOut=(new CAAT.Interpolator).createExponentialInOutInterpolator(4)}else if(f<0.66){f=CAAT.Scene.prototype.EASE_SCALE;interpolatorOut=(new CAAT.Interpolator).createExponentialOutInterpolator(4)}else{f=CAAT.Scene.prototype.EASE_TRANSLATE;interpolatorOut=(new CAAT.Interpolator).createBounceOutInterpolator()}this.easeInOut(a,e,Math.random()*
8.99>>0,b,f,Math.random()*8.99>>0,c,d,g,interpolatorOut)}},easeIn:function(a,b,c,d,e,f){a=this.scenes[a];if(b==CAAT.Scene.prototype.EASE_ROTATION)a.easeRotationIn(c,d,e,f);else b==CAAT.Scene.prototype.EASE_SCALE?a.easeScaleIn(0,c,d,e,f):a.easeTranslationIn(c,d,e,f);this.childList=[];this.addChild(a);a.setFrameTime(this.time,Number.MAX_VALUE)},setScene:function(a){a=this.scenes[a];this.childList=[];this.addChild(a);this.currentScene=a;a.setFrameTime(this.time,Number.MAX_VALUE)},switchToScene:function(a,
b,c,d){var e=this.getSceneIndex(this.currentScene);d?this.easeInOutRandom(a,e,b,c):this.setScene(a)},switchToPrevScene:function(a,b,c){var d=this.getSceneIndex(this.currentScene);this.getNumScenes()<=1||d==0||(c?this.easeInOutRandom(d-1,d,a,b):this.setScene(d-1))},switchToNextScene:function(a,b,c){var d=this.getSceneIndex(this.currentScene);this.getNumScenes()<=1||d==this.getNumScenes()-1||(c?this.easeInOutRandom(d+1,d,a,b):this.setScene(d+1))},mouseEnter:function(){},mouseExit:function(){},mouseMove:function(){},
mouseDown:function(){},mouseUp:function(){},mouseDrag:function(){},easeEnd:function(a,b){if(false==b)a.setExpired(true);else this.currentScene=a;a.emptyBehaviourList()},getSceneIndex:function(a){for(var b in this.scenes)if(this.scenes[b]==a)return b>>0;return-1},getCurrentSceneIndex:function(){return this.getSceneIndex(this.currentScene)},getBrowserName:function(){return BrowserDetect.browser},getBrowserVersion:function(){return BrowserDetect.version},getOSName:function(){return BrowserDetect.OS}})})();(function(){CAAT.MouseEvent=function(){this.point=new CAAT.Point;this.screenPoint=new CAAT.Point;return this};CAAT.MouseEvent.prototype={screenPoint:null,point:null,modifiers:0,time:0,source:null,SHIFT:16,CONTROL:17,ALT:18,SHIFT_MASK:1,CONTROL_MASK:2,ALT_MASK:4,init:function(a,b,c,d,e){this.point.set(a,b);this.modifiers=c;this.source=d;this.screenPoint=e;return this},isAltDown:function(){return this.modifiers&this.ALT_MASK},isControlDown:function(){return this.modifiers&this.CONTROL_MASK},isShiftDown:function(){return this.modifiers&
this.SHIFT_MASK}}})();var __lastSelectedActor=null,__mousePoint=null,__screenMousePoint=null,__mouseDown=false,__modifiers=0,__dragging=false;
function __getCanvasCoord(a,b){var c=0,d=0;if(!b)b=window.event;if(b.pageX||b.pageY){c=b.pageX;d=b.pageY}else if(b.clientX||b.clientY){c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}c-=CAAT.director.canvas.offsetLeft;d-=CAAT.director.canvas.offsetTop;a.set(c,d);__screenMousePoint.set(c,d)}
function __GlobalEnableEvents(a){__mousePoint=new CAAT.Point;__screenMousePoint=new CAAT.Point;document.body.onkeydown=function(b){switch(b.which?b.which:event.keyCode){case CAAT.MouseEvent.prototype.SHIFT:__modifiers|=CAAT.MouseEvent.prototype.SHIFT_MASK;break;case CAAT.MouseEvent.prototype.CONTROL:__modifiers|=CAAT.MouseEvent.prototype.CONTROL_MASK;break;case CAAT.MouseEvent.prototype.ALT:__modifiers|=CAAT.MouseEvent.prototype.ALT_MASK;break}};document.body.onkeyup=function(b){switch(b.which?b.which:
event.keyCode){case CAAT.MouseEvent.prototype.SHIFT:__modifiers&=~CAAT.MouseEvent.prototype.SHIFT_MASK;break;case CAAT.MouseEvent.prototype.CONTROL:__modifiers&=~CAAT.MouseEvent.prototype.CONTROL_MASK;break;case CAAT.MouseEvent.prototype.ALT:__modifiers&=~CAAT.MouseEvent.prototype.ALT_MASK;break}};a.canvas.addEventListener("mouseup",function(){__mouseDown=false;null!=__lastSelectedActor&&__lastSelectedActor.mouseUp((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,
__modifiers,__lastSelectedActor,__screenMousePoint));if(__dragging)__dragging=false;else null!=__lastSelectedActor&&__lastSelectedActor.mouseClick((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,__modifiers,__lastSelectedActor,__screenMousePoint))},false);a.canvas.addEventListener("mousedown",function(){__mouseDown=true;null!=__lastSelectedActor&&__lastSelectedActor.mouseDown((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,
__modifiers,__lastSelectedActor,__screenMousePoint))},false);a.canvas.addEventListener("mouseover",function(b){__getCanvasCoord(__mousePoint,b);__lastSelectedActor=a.findActorAtPosition(__mousePoint);null!=__lastSelectedActor&&__lastSelectedActor.mouseEnter((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,__modifiers,__lastSelectedActor,__screenMousePoint))},false);a.canvas.addEventListener("mouseout",function(){if(null!=__lastSelectedActor){__lastSelectedActor.mouseExit((new CAAT.MouseEvent).init(0,
0,__modifiers,__lastSelectedActor,__screenMousePoint));__lastSelectedActor=null}__mouseDown=false},false);a.canvas.addEventListener("mousemove",function(b){__getCanvasCoord(__mousePoint,b);if(__mouseDown&&null!=__lastSelectedActor){__dragging=true;null!=__lastSelectedActor.parent&&__lastSelectedActor.parent.inverseTransformCoord(__mousePoint);__lastSelectedActor.mouseDrag((new CAAT.MouseEvent).init(__mousePoint.x,__mousePoint.y,__modifiers,__lastSelectedActor,__screenMousePoint))}else{b=a.findActorAtPosition(__mousePoint);
if(b!=__lastSelectedActor){null!=__lastSelectedActor&&__lastSelectedActor.mouseExit((new CAAT.MouseEvent).init(__mousePoint.x,__mousePoint.y,__modifiers,__lastSelectedActor,__screenMousePoint));null!=b&&b.mouseEnter((new CAAT.MouseEvent).init(b.rpoint.x,b.rpoint.y,__modifiers,b,__screenMousePoint))}__lastSelectedActor=b;null!=b&&__lastSelectedActor.mouseMove((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,__modifiers,__lastSelectedActor,__screenMousePoint))}},
false);a.canvas.addEventListener("dblclick",function(b){__getCanvasCoord(__mousePoint,b);null!=__lastSelectedActor&&__lastSelectedActor.mouseDblClick((new CAAT.MouseEvent).init(__lastSelectedActor.rpoint.x,__lastSelectedActor.rpoint.y,__modifiers,__lastSelectedActor,__screenMousePoint))},false)};(function(){CAAT.Scene=function(){CAAT.Scene.superclass.constructor.call(this);return this};extend(CAAT.Scene,CAAT.ActorContainer,{easeContainerBehaviour:null,easeContainerBehaviourListener:null,easeIn:false,EASE_ROTATION:1,EASE_SCALE:2,EASE_TRANSLATE:3,createAlphaBehaviour:function(a,b){var c=new CAAT.AlphaBehaviour;c.setFrameTime(0,a);c.startAlpha=b?0:1;c.endAlpha=b?1:0;this.easeContainerBehaviour.addBehaviour(c)},easeTranslationIn:function(a,b,c,d){this.easeTranslation(a,b,c,true,d)},easeTranslationOut:function(a,
b,c,d){this.easeTranslation(a,b,c,false,d)},easeTranslation:function(a,b,c,d,e){this.easeContainerBehaviour=new CAAT.ContainerBehaviour;this.easeIn=d;var f=new CAAT.PathBehaviour;e&&f.setInterpolator(e);f.setFrameTime(0,a);c%=4;c++;switch(c){case CAAT.Actor.prototype.ANCHOR_TOP:d?f.setPath((new CAAT.Path).setLinear(0,-this.height,0,0)):f.setPath((new CAAT.Path).setLinear(0,0,0,-this.height));break;case CAAT.Actor.prototype.ANCHOR_BOTTOM:d?f.setPath((new CAAT.Path).setLinear(0,this.height,0,0)):f.setPath((new CAAT.Path).setLinear(0,
0,0,this.height));break;case CAAT.Actor.prototype.ANCHOR_LEFT:d?f.setPath((new CAAT.Path).setLinear(-this.width,0,0,0)):f.setPath((new CAAT.Path).setLinear(0,0,-this.width,0));break;case CAAT.Actor.prototype.ANCHOR_RIGHT:d?f.setPath((new CAAT.Path).setLinear(this.width,0,0,0)):f.setPath((new CAAT.Path).setLinear(0,0,this.width,0));break}b&&this.createAlphaBehaviour(a,d);this.easeContainerBehaviour.addBehaviour(f);this.easeContainerBehaviour.setFrameTime(0,a);this.easeContainerBehaviour.addListener(this);
this.emptyBehaviourList();CAAT.Scene.superclass.addBehaviour.call(this,this.easeContainerBehaviour)},easeScaleIn:function(a,b,c,d,e){this.easeScale(a,b,c,d,true,e);this.easeIn=true},easeScaleOut:function(a,b,c,d,e){this.easeScale(a,b,c,d,false,e);this.easeIn=false},easeScale:function(a,b,c,d,e,f){this.easeContainerBehaviour=new CAAT.ContainerBehaviour;var g=0,h=0,j=0,i=0;switch(d){case CAAT.Actor.prototype.ANCHOR_TOP_LEFT:case CAAT.Actor.prototype.ANCHOR_TOP_RIGHT:case CAAT.Actor.prototype.ANCHOR_BOTTOM_LEFT:case CAAT.Actor.prototype.ANCHOR_BOTTOM_RIGHT:case CAAT.Actor.prototype.ANCHOR_CENTER:i=
j=1;break;case CAAT.Actor.prototype.ANCHOR_TOP:case CAAT.Actor.prototype.ANCHOR_BOTTOM:j=g=1;h=0;i=1;break;case CAAT.Actor.prototype.ANCHOR_LEFT:case CAAT.Actor.prototype.ANCHOR_RIGHT:i=h=1;g=0;j=1;break;default:alert("scale anchor ?? "+d)}if(!e){var k;k=g;g=j;j=k;k=h;h=i;i=k}c&&this.createAlphaBehaviour(b,e);c=new CAAT.ScaleBehaviour;c.setFrameTime(a,b);c.minScaleX=g;c.minScaleY=h;c.maxScaleX=j;c.maxScaleY=i;c.anchor=d;f&&c.setInterpolator(f);this.easeContainerBehaviour.addBehaviour(c);this.easeContainerBehaviour.setFrameTime(0,
b);this.easeContainerBehaviour.addListener(this);this.emptyBehaviourList();CAAT.Scene.superclass.addBehaviour.call(this,this.easeContainerBehaviour)},addBehaviour:function(){},easeRotationIn:function(a,b,c,d){this.easeRotation(a,b,c,true,d);this.easeIn=true},easeRotationOut:function(a,b,c,d){this.easeRotation(a,b,c,false,d);this.easeIn=false},easeRotation:function(a,b,c,d,e){this.easeContainerBehaviour=new CAAT.ContainerBehaviour;var f=0,g=0;switch(c){case CAAT.Actor.prototype.ANCHOR_CENTER:c=CAAT.Actor.prototype.ANCHOR_TOP;
case CAAT.Actor.prototype.ANCHOR_TOP:case CAAT.Actor.prototype.ANCHOR_BOTTOM:case CAAT.Actor.prototype.ANCHOR_LEFT:case CAAT.Actor.prototype.ANCHOR_RIGHT:f=Math.PI*(Math.random()<0.5?1:-1);break;case CAAT.Actor.prototype.ANCHOR_TOP_LEFT:case CAAT.Actor.prototype.ANCHOR_TOP_RIGHT:case CAAT.Actor.prototype.ANCHOR_BOTTOM_LEFT:case CAAT.Actor.prototype.ANCHOR_BOTTOM_RIGHT:f=Math.PI/2*(Math.random()<0.5?1:-1);break;default:alert("rot anchor ?? "+c)}if(false==d){var h=f;f=g;g=h}b&&this.createAlphaBehaviour(a,
d);b=new CAAT.RotateBehaviour;b.setFrameTime(0,a);b.minAngle=f;b.maxAngle=g;b.anchor=c;e&&b.setInterpolator(e);this.easeContainerBehaviour.addBehaviour(b);this.easeContainerBehaviour.setFrameTime(0,a);this.easeContainerBehaviour.addListener(this);this.emptyBehaviourList();CAAT.Scene.superclass.addBehaviour.call(this,this.easeContainerBehaviour)},setEaseListener:function(a){this.easeContainerBehaviourListener=a},behaviourExpired:function(){this.easeContainerBehaviourListener.easeEnd(this,this.easeIn)}})})();(function(){CAAT.Matrix=function(){this.matrix=[[1,0,0],[0,1,0],[0,0,1]];return this};CAAT.Matrix.prototype={matrix:null,type:false,TYPE_ROTATE:0,TYPE_SCALE:1,TYPE_TRANSLATE:2,transform:function(a){var b=a.x,c=a.y;if(this.type==this.TYPE_ROTATE){a.x=b*this.matrix[0][0]+c*this.matrix[1][0]+this.matrix[0][2];a.y=b*this.matrix[0][1]+c*this.matrix[1][1]+this.matrix[1][2]}else if(this.type==this.TYPE_SCALE){a.x*=this.matrix[0][0];a.y*=this.matrix[1][1]}else if(this.type==this.TYPE_TRANSLATE){a.x+=this.matrix[0][2];
a.y+=this.matrix[1][2]}else{a.x=b*this.matrix[0][0]+c*this.matrix[0][1]+this.matrix[0][2];a.y=b*this.matrix[1][0]+c*this.matrix[1][1]+this.matrix[1][2]}return a},rotate:function(a){var b=new CAAT.Matrix;b.matrix[0][0]=Math.cos(a);b.matrix[1][0]=-Math.sin(a);b.matrix[0][1]=Math.sin(a);b.matrix[1][1]=Math.cos(a);b.type=this.TYPE_ROTATE;return b},_rotateAnchor:function(a,b,c){var d=new CAAT.Matrix;d.matrix[0][0]=Math.cos(a);d.matrix[1][0]=-Math.sin(a);d.matrix[0][1]=Math.sin(a);d.matrix[1][1]=Math.cos(a);
d.matrix[0][2]=b;d.matrix[1][2]=c;d.type=this.TYPE_ROTATE;return d},scale:function(a,b){var c=new CAAT.Matrix;c.matrix[0][0]=a;c.matrix[1][1]=b;c.type=this.TYPE_SCALE;return c},translate:function(a,b){var c=new CAAT.Matrix;c.matrix[0][2]=a;c.matrix[1][2]=b;c.type=this.TYPE_TRANSLATE;return c},copy:function(a){this.matrix[0][0]=a[0][0];this.matrix[0][1]=a[0][1];this.matrix[0][2]=a[0][2];this.matrix[1][0]=a[1][0];this.matrix[1][1]=a[1][1];this.matrix[1][2]=a[1][2];this.matrix[2][0]=a[2][0];this.matrix[2][1]=
a[2][1];this.matrix[2][2]=a[2][2]},identity:function(){this.matrix[0][0]=1;this.matrix[0][1]=0;this.matrix[0][2]=0;this.matrix[1][0]=0;this.matrix[1][1]=1;this.matrix[1][2]=0;this.matrix[2][0]=0;this.matrix[2][1]=0;this.matrix[2][2]=1},multiply:function(a){var b=this.matrix[0][0]*a.matrix[0][1]+this.matrix[0][1]*a.matrix[1][1]+this.matrix[0][2]*a.matrix[2][1],c=this.matrix[0][0]*a.matrix[0][2]+this.matrix[0][1]*a.matrix[1][2]+this.matrix[0][2]*a.matrix[2][2],d=this.matrix[1][0]*a.matrix[0][0]+this.matrix[1][1]*
a.matrix[1][0]+this.matrix[1][2]*a.matrix[2][0],e=this.matrix[1][0]*a.matrix[0][1]+this.matrix[1][1]*a.matrix[1][1]+this.matrix[1][2]*a.matrix[2][1],f=this.matrix[1][0]*a.matrix[0][2]+this.matrix[1][1]*a.matrix[1][2]+this.matrix[1][2]*a.matrix[2][2],g=this.matrix[2][0]*a.matrix[0][0]+this.matrix[2][1]*a.matrix[1][0]+this.matrix[2][2]*a.matrix[2][0],h=this.matrix[2][0]*a.matrix[0][1]+this.matrix[2][1]*a.matrix[1][1]+this.matrix[2][2]*a.matrix[2][1],j=this.matrix[2][0]*a.matrix[0][2]+this.matrix[2][1]*
a.matrix[1][2]+this.matrix[2][2]*a.matrix[2][2];this.matrix[0][0]=this.matrix[0][0]*a.matrix[0][0]+this.matrix[0][1]*a.matrix[1][0]+this.matrix[0][2]*a.matrix[2][0];this.matrix[0][1]=b;this.matrix[0][2]=c;this.matrix[1][0]=d;this.matrix[1][1]=e;this.matrix[1][2]=f;this.matrix[2][0]=g;this.matrix[2][1]=h;this.matrix[2][2]=j},premultiply:function(a){var b=a.matrix[0][0]*this.matrix[0][1]+a.matrix[0][1]*this.matrix[1][1]+a.matrix[0][2]*this.matrix[2][1],c=a.matrix[0][0]*this.matrix[0][2]+a.matrix[0][1]*
this.matrix[1][2]+a.matrix[0][2]*this.matrix[2][2],d=a.matrix[1][0]*this.matrix[0][0]+a.matrix[1][1]*this.matrix[1][0]+a.matrix[1][2]*this.matrix[2][0],e=a.matrix[1][0]*this.matrix[0][1]+a.matrix[1][1]*this.matrix[1][1]+a.matrix[1][2]*this.matrix[2][1],f=a.matrix[1][0]*this.matrix[0][2]+a.matrix[1][1]*this.matrix[1][2]+a.matrix[1][2]*this.matrix[2][2],g=a.matrix[2][0]*this.matrix[0][0]+a.matrix[2][1]*this.matrix[1][0]+a.matrix[2][2]*this.matrix[2][0],h=a.matrix[2][0]*this.matrix[0][1]+a.matrix[2][1]*
this.matrix[1][1]+a.matrix[2][2]*this.matrix[2][1],j=a.matrix[2][0]*this.matrix[0][2]+a.matrix[2][1]*this.matrix[1][2]+a.matrix[2][2]*this.matrix[2][2];this.matrix[0][0]=a.matrix[0][0]*this.matrix[0][0]+a.matrix[0][1]*this.matrix[1][0]+a.matrix[0][2]*this.matrix[2][0];this.matrix[0][1]=b;this.matrix[0][2]=c;this.matrix[1][0]=d;this.matrix[1][1]=e;this.matrix[1][2]=f;this.matrix[2][0]=g;this.matrix[2][1]=h;this.matrix[2][2]=j},getInverse:function(){var a=this.matrix[0][2],b=this.matrix[1][2],c=this.matrix[0][0],
d=this.matrix[0][1],e=this.matrix[1][0],f=this.matrix[1][1],g=new CAAT.Matrix;if(this.type==this.TYPE_ROTATE){g.matrix[0][0]=c;g.matrix[0][1]=e;g.matrix[1][0]=d;g.matrix[1][1]=f}else if(this.type==this.TYPE_SCALE){g.matrix[0][0]=1/c;g.matrix[1][1]=1/f}else if(this.type==this.TYPE_TRANSLATE){g.matrix[0][2]=-a;g.matrix[1][2]=-b}g.type=this.type;return g}}})();
(function(){CAAT.MatrixStack=function(){this.matrix=new CAAT.Matrix;this.stack=[];this.saved=[];return this};CAAT.MatrixStack.prototype={matrix:null,stack:null,saved:null,pushMatrix:function(a){this.stack.push(a)},popMatrix:function(){return this.stack.pop()},save:function(){this.saved.push(this.stack.length)},restore:function(){for(var a=this.saved.pop();this.stack.length!=a;)this.popMatrix()},transform:function(a){for(var b=0;b<this.stack.length;b++){var c=this.stack[b].matrix;a.transform(c[0][0],
c[0][1],c[1][0],c[1][1],c[0][2],c[1][2])}},transformInverse:function(a){for(var b=this.stack.length-1;b>=0;b--){var c=this.stack[b].getInverse();a.transform(c.matrix[0][0],c.matrix[0][1],c.matrix[1][0],c.matrix[1][1],c.matrix[0][2],c.matrix[1][2])}},prepareGraphics:function(a,b){this.stack=[];this.pushMatrix(CAAT.Matrix.prototype.translate(b.x,b.y));if(b.rotationAngle!=0){this.pushMatrix(CAAT.Matrix.prototype.translate(b.rotationX,b.rotationY));this.pushMatrix(CAAT.Matrix.prototype.rotate(b.rotationAngle));
this.pushMatrix(CAAT.Matrix.prototype.translate(-b.rotationX,-b.rotationY))}if(b.scaleX!=1||b.scaleY!=1)if(b.scaleX!=0&&b.scaleY!=0){this.pushMatrix(CAAT.Matrix.prototype.translate(b.scaleTX-b.width,b.scaleTY-b.height));this.pushMatrix(CAAT.Matrix.prototype.scale(b.scaleX,b.scaleY));this.pushMatrix(CAAT.Matrix.prototype.translate(-(b.scaleTX-b.width/b.scaleX),-(b.scaleTY-b.height/b.scaleY)))}else this.pushMatrix(CAAT.Matrix.prototype.scale(0,0));this.transform(a)},transformCoord:function(a){for(var b=
this.stack.length-1;b>=0;b--)this.stack[b].transform(a);return a},inverseTransformCoord:function(a){for(var b=0;b<this.stack.length;b++)this.stack[b].getInverse().transform(a);return a}}})();(function(){CAAT.Point=function(){return this};CAAT.Point.prototype={x:0,y:0,set:function(a,b){this.x=a;this.y=b;return this},clone:function(a){var b=new Point;b.set(a.x,a.y);return b}}})();(function(){CAAT.Rectangle=function(){return this};CAAT.Rectangle.prototype={x:0,y:0,x1:0,y1:0,width:0,height:0,contains:function(a,b){return a>=0&&a<this.width&&b>=0&&b<this.height},isEmpty:function(){return this.width==0&&this.height==0},union:function(a,b){if(this.isEmpty()&&this.x==0&&this.y==0){this.x=a;this.y=b}else{this.x1=this.x+this.width;this.y1=this.y+this.height;if(b<this.y)this.y=b;if(a<this.x)this.x=a;if(b>this.y1)this.y1=b;if(a>this.x1)this.x1=a;this.width=this.x1-this.x;this.height=
this.y1-this.y}}}})();(function(){CAAT.Curve=function(){return this};CAAT.Curve.prototype={coordlist:null,k:0.05,length:-1,interpolator:false,HANDLE_SIZE:20,drawHandles:true,paint:function(a){a=a.crc;a.save();a.beginPath();a.strokeStyle="#a0a0a0";a.moveTo(this.coordlist[0].x,this.coordlist[0].y);a.lineTo(this.coordlist[1].x,this.coordlist[1].y);a.stroke();if(this.cubic){a.moveTo(this.coordlist[2].x,this.coordlist[2].y);a.lineTo(this.coordlist[3].x,this.coordlist[3].y);a.stroke()}if(this.drawHandles){a.globalAlpha=0.5;
for(var b=0;b<this.coordlist.length;b++){a.fillStyle="#7f7f00";a.beginPath();a.arc(this.coordlist[b].x,this.coordlist[b].y,this.HANDLE_SIZE/2,0,2*Math.PI,false);a.fill()}}a.restore()},update:function(){this.calcLength()},solve:function(){},getBoundingBox:function(a){a||(a=new CAAT.Rectangle);for(var b=new CAAT.Point,c=this.k;c<=1+this.k;c+=this.k){this.solve(b);a.union(b.x,b.y)}return a},calcLength:function(){var a,b;a=this.coordlist[0].x;b=this.coordlist[0].y;for(var c=0,d=new CAAT.Point,e=this.k;e<=
1+this.k;e+=this.k){this.solve(d,e);c+=Math.sqrt((d.x-a)*(d.x-a)+(d.y-b)*(d.y-b));a=d.x;b=d.y}return this.length=c},getLength:function(){return this.length},endCurvePosition:function(){return this.coordlist[this.coordlist.length-1]},startCurvePosition:function(){return this.coordlist[0]}}})();
(function(){CAAT.Bezier=function(){CAAT.Bezier.superclass.constructor.call(this);return this};extend(CAAT.Bezier,CAAT.Curve,{cubic:false,setCubic:function(a,b,c,d,e,f,g,h){this.coordlist=[];this.coordlist.push((new CAAT.Point).set(a,b));this.coordlist.push((new CAAT.Point).set(c,d));this.coordlist.push((new CAAT.Point).set(e,f));this.coordlist.push((new CAAT.Point).set(g,h));this.cubic=true;this.update()},setQuadric:function(a,b,c,d,e,f){this.coordlist=[];this.coordlist.push((new CAAT.Point).set(a,
b));this.coordlist.push((new CAAT.Point).set(c,d));this.coordlist.push((new CAAT.Point).set(e,f));this.cubic=false;this.update()},paint:function(a){this.cubic?this.paintCubic(a):this.paintCuadric(a);CAAT.Bezier.superclass.paint.call(this,a)},paintCuadric:function(a){var b,c;b=this.coordlist[0].x;c=this.coordlist[0].y;a=a.crc;a.save();a.beginPath();a.moveTo(b,c);b=new CAAT.Point;for(c=this.k;c<=1+this.k;c+=this.k){this.solve(b,c);a.lineTo(b.x,b.y)}a.stroke();a.restore()},paintCubic:function(a){var b,
c;b=this.coordlist[0].x;c=this.coordlist[0].y;a=a.crc;a.save();a.beginPath();a.moveTo(b,c);b=new CAAT.Point;for(c=this.k;c<=1+this.k;c+=this.k){this.solve(b,c);a.lineTo(b.x,b.y)}a.stroke();a.restore()},solve:function(a,b){return this.cubic?this.solveCubic(a,b):this.solveQuadric(a,b)},solveCubic:function(a,b){var c=b*b,d=b*c;a.x=this.coordlist[0].x+b*(-this.coordlist[0].x*3+b*(3*this.coordlist[0].x-this.coordlist[0].x*b))+b*(3*this.coordlist[1].x+b*(-6*this.coordlist[1].x+this.coordlist[1].x*3*b))+
c*(this.coordlist[2].x*3-this.coordlist[2].x*3*b)+this.coordlist[3].x*d;a.y=this.coordlist[0].y+b*(-this.coordlist[0].y*3+b*(3*this.coordlist[0].y-this.coordlist[0].y*b))+b*(3*this.coordlist[1].y+b*(-6*this.coordlist[1].y+this.coordlist[1].y*3*b))+c*(this.coordlist[2].y*3-this.coordlist[2].y*3*b)+this.coordlist[3].y*d;return a},solveQuadric:function(a,b){a.x=(1-b)*(1-b)*this.coordlist[0].x+2*(1-b)*b*this.coordlist[1].x+b*b*this.coordlist[2].x;a.y=(1-b)*(1-b)*this.coordlist[0].y+2*(1-b)*b*this.coordlist[1].y+
b*b*this.coordlist[2].y;return a}})})();
(function(){CAAT.CatmullRom=function(){CAAT.CatmullRom.superclass.constructor.call(this);return this};extend(CAAT.CatmullRom,CAAT.Curve,{setCurve:function(a,b,c,d,e,f,g,h){this.coordlist=[];this.coordlist.push((new CAAT.Point).set(a,b));this.coordlist.push((new CAAT.Point).set(c,d));this.coordlist.push((new CAAT.Point).set(e,f));this.coordlist.push((new CAAT.Point).set(g,h));this.cubic=true;this.update()},paint:function(a){var b,c;b=this.coordlist[0].x;c=this.coordlist[0].y;var d=a.crc;d.save();d.beginPath();
d.moveTo(b,c);b=new CAAT.Point;for(c=this.k;c<=1+this.k;c+=this.k){this.solve(b,c);d.lineTo(b.x,b.y)}d.stroke();d.restore();CatmullRom.superclass.paint.call(this,a)},solve:function(a,b){var c=b*b,d=b*c,e=this.coordlist;a.x=0.5*(2*e[1].x+(-e[0].x+e[2].x)*b+(2*e[0].x-5*e[1].x+4*e[2].x-e[3].x)*c+(-e[0].x+3*e[1].x-3*e[2].x+e[3].x)*d);a.y=0.5*(2*e[1].y+(-e[0].y+e[2].y)*b+(2*e[0].y-5*e[1].y+4*e[2].y-e[3].y)*c+(-e[0].y+3*e[1].y-3*e[2].y+e[3].y)*d);return a}})})();(function(){CAAT.PathSegment=function(){return this};CAAT.PathSegment.prototype={endCurvePosition:function(){},startCurvePosition:function(){},getPosition:function(){},getLength:function(){},getBoundingBox:function(){},numControlPoints:function(){},getControlPoint:function(){},endPath:function(){},getContour:function(){}}})();
(function(){CAAT.LinearPath=function(){this.initialPosition=new CAAT.Point;this.finalPosition=new CAAT.Point;this.newPosition=new CAAT.Point;this.pathListener=[];return this};extend(CAAT.LinearPath,CAAT.PathSegment,{initialPosition:null,finalPosition:null,newPosition:null,setInitialPosition:function(a,b){this.initialPosition.x=a;this.initialPosition.y=b;this.newPosition.set(a,b)},setFinalPosition:function(a,b){this.finalPosition.x=a;this.finalPosition.y=b},endCurvePosition:function(){return this.finalPosition},
startCurvePosition:function(){return this.initialPosition},getPosition:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;this.newPosition.set(this.initialPosition.x+(this.finalPosition.x-this.initialPosition.x)*a,this.initialPosition.y+(this.finalPosition.y-this.initialPosition.y)*a);return this.newPosition},getLength:function(){var a=this.finalPosition.x-this.initialPosition.x,b=this.finalPosition.y-this.initialPosition.y;return Math.sqrt(a*a+b*b)},initialPositionX:function(){return this.initialPosition.x},
finalPositionX:function(){return this.finalPosition.x},paint:function(a){a=a.crc;a.beginPath();a.moveTo(this.initialPosition.x,this.initialPosition.y);a.lineTo(this.finalPosition.x,this.finalPosition.y);a.stroke();a.fillStyle="black";a.fillRect(this.initialPosition.x-3,this.initialPosition.y-3,6,6);a.fillRect(this.finalPosition.x-3,this.finalPosition.y-3,6,6)},getBoundingBox:function(a){a.union(this.initialPosition.x,this.initialPosition.y);a.union(this.finalPosition.x,this.finalPosition.y);return a},
numControlPoints:function(){return 2},getControlPoint:function(a){if(0==a)return this.initialPosition;else if(1==a)return this.finalPosition},getContour:function(){contour=[];contour.push(this.getPosition(0).clone());contour.push(this.getPosition(1).clone());return contour}})})();
(function(){CAAT.CurvePath=function(){this.pathListener=[];this.newPosition=new CAAT.Point;return this};extend(CAAT.CurvePath,CAAT.PathSegment,{curve:null,newPosition:null,expired:false,setQuadric:function(a,b,c,d,e,f){var g=new CAAT.Bezier;g.setQuadric(a,b,c,d,e,f);this.curve=g;return this},setCubic:function(a,b,c,d,e,f,g,h){var j=new CAAT.Bezier;j.setCubic(a,b,c,d,e,f,g,h);this.curve=j;return this},updatePath:function(){this.curve.update()},getPosition:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;
this.curve.solve(this.newPosition,a);return this.newPosition},getPositionFromLength:function(a){this.curve.solve(this.newPosition,a/this.getLength());return this.newPosition},initialPositionX:function(){return this.curve.coordlist[0].x},finalPositionX:function(){return this.curve.coordlist[this.curve.coordlist.length-1].x},getLength:function(){return this.curve.getLength()},paint:function(a){this.curve.paint(a)},getBoundingBox:function(a){this.curve.getBoundingBox(a);return a},numControlPoints:function(){return this.curve.coordlist.length},
getControlPoint:function(a){return this.curve.coordlist[a]},endCurvePosition:function(){return this.curve.endCurvePosition()},startCurvePosition:function(){return this.curve.startCurvePosition()},getContour:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.getPosition(c/a).y});return b}})})();
(function(){CAAT.Path=function(){this.newPosition=new CAAT.Point;this.pathSegments=[];this.pathListener=[];return this};extend(CAAT.Path,CAAT.PathSegment,{pathSegments:null,pathSegmentDurationTime:null,pathSegmentStartTime:null,newPosition:null,pathLength:-1,beginPathX:-1,beginPathY:-1,trackPathX:-1,trackPathY:-1,setLinear:function(a,b,c,d){this.beginPath(a,b);this.addLineTo(c,d);this.endPath();return this},addSegment:function(a){this.pathSegments.push(a);return this},addQuadricTo:function(a,b,c,
d){var e=new CAAT.Bezier;e.setQuadric(this.trackPathX,this.trackPathY,a,b,c,d);this.trackPathX=c;this.trackPathY=d;a=new CAAT.CurvePath;a.curve=e;this.pathSegments.push(a);return this},addCubicTo:function(a,b,c,d,e,f){var g=new CAAT.Bezier;g.setCubic(this.trackPathX,this.trackPathY,a,b,c,d,e,f);this.trackPathX=e;this.trackPathY=f;a=new CAAT.CurvePath;a.curve=g;this.pathSegments.push(a);return this},addCatmullTo:function(a,b,c,d,e,f){var g=new CAAT.CatmullRom;g.setCurve(this.trackPathX,this.trackPathY,
a,b,c,d,e,f);this.trackPathX=e;this.trackPathY=f;a=new CAAT.CurvePath;a.curve=g;this.pathSegments.push(a);return this},addLineTo:function(a,b){var c=new CAAT.LinearPath;c.setInitialPosition(this.trackPathX,this.trackPathY);c.setFinalPosition(a,b);this.trackPathX=a;this.trackPathY=b;this.pathSegments.push(c);return this},beginPath:function(a,b){this.trackPathX=a;this.trackPathY=b;this.beginPathX=a;this.beginPathY=b;return this},closePath:function(){this.addLineTo(this.beginPathX,this.beginPathY);this.trackPathX=
this.beginPathX;this.trackPathY=this.beginPathY;this.endPath();return this},endPath:function(){this.pathSegmentStartTime=[];this.pathSegmentDurationTime=[];for(var a=this.pathLength=0;a<this.pathSegments.length;a++){this.pathLength+=this.pathSegments[a].getLength();this.pathSegmentStartTime.push(0);this.pathSegmentDurationTime.push(0)}for(a=0;a<this.pathSegments.length;a++){this.pathSegmentDurationTime[a]=this.pathSegments[a].getLength()/this.pathLength;if(a>0)this.pathSegmentStartTime[a]=this.pathSegmentStartTime[a-
1]+this.pathSegmentDurationTime[a-1];else this.pathSegmentStartTime[0]=0;this.pathSegments[a].endPath()}},getLength:function(){return this.pathLength},getPosition:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;for(var b=0;b<this.pathSegments.length;b++)if(this.pathSegmentStartTime[b]<=a&&a<=this.pathSegmentStartTime[b]+this.pathSegmentDurationTime[b]){a=(a-this.pathSegmentStartTime[b])/this.pathSegmentDurationTime[b];a=this.pathSegments[b].getPosition(a);this.newPosition.x=a.x;this.newPosition.y=a.y;break}return this.newPosition},
getPositionFromLength:function(a){a%=this.getLength();if(a<0)a+=this.getLength();for(var b=0,c=0;c<this.pathSegments.length;c++){if(b<=a&&a<=this.pathSegments[c].getLength()+b){a-=b;a=this.pathSegments[c].getPositionFromLength(a);this.newPosition.x=a.x;this.newPosition.y=a.y;break}b+=this.pathSegments[c].getLength()}return this.newPosition},paint:function(a){for(var b=0;b<this.pathSegments.length;b++)this.pathSegments[b].paint(a)},addPathListener:function(a){this.pathListener.push(a)},firePathFinishedEvent:function(a){for(var b=
0;b<this.pathListener.length;b++)this.pathListener[b](this,a)},getBoundingBox:function(a){if(null==a)a=new CAAT.Rectangle;for(var b=0;b<this.pathSegments.length;b++)this.pathSegments[b].getBoundingBox(a);return a},release:function(){this.ay=this.ax=-1},getNumSegments:function(){return this.pathSegments.length},getSegment:function(a){return this.pathSegments[a]},updatePath:function(){for(var a=0;a<this.pathSegments.length;a++)this.pathSegments[a].updatePath();this.endPath()},press:function(a,b){for(var c=
CAAT.Curve.prototype.HANDLE_SIZE/2,d=0;d<this.pathSegments.length;d++)for(var e=0;e<this.pathSegments[d].numControlPoints();e++){var f=this.pathSegments[d].getControlPoint(e);if(a>=f.x-c&&b>=f.y-c&&a<f.x+c&&b<f.y+c){this.point=[];this.point.push(f);if(e==0){c=d-1;if(c<0)c=this.pathSegments.length-1;this.point.push(this.pathSegments[c].endCurvePosition())}else e==this.pathSegments[d].numControlPoints()-1&&this.point.push(this.pathSegments[(d+1)%this.pathSegments.length].startCurvePosition());return}}this.point=
null},drag:function(a,b){if(null!=this.point){if(-1==this.ax||-1==this.ay){this.ax=a;this.ay=b}for(var c=0;c<this.point.length;c++){this.point[c].x+=a-this.ax;this.point[c].y+=b-this.ay}this.ax=a;this.ay=b;this.updatePath()}},ax:-1,ay:-1,point:[],getContour:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.getPosition(c/a).y});return b}})})();(function(){CAAT.PathActor=function(){CAAT.PathActor.superclass.constructor.call(this);return this};extend(CAAT.PathActor,CAAT.Actor,{path:null,pathBoundingRectangle:null,bOutline:false,setPath:function(a){this.path=a;this.pathBoundingRectangle=a.getBoundingBox()},paint:function(a){this.path.paint(a);a=a.crc;if(this.bOutline){a.strokeStyle="black";a.strokeRect(0,0,this.width,this.height)}},mouseDrag:function(a){this.path.drag(a.point.x,a.point.y)},mouseDown:function(a){this.path.press(a.point.x,a.point.y)},
mouseUp:function(){this.path.release()}})})();(function(){CAAT.Interpolator=function(){this.interpolated=new CAAT.Point;return this};CAAT.Interpolator.prototype={interpolated:null,paintScale:90,createLinearInterpolator:function(a){this.getPosition=function(b){var c=b;if(a)if(b<0.5)b*=2;else b=1-(b-0.5)*2;return this.interpolated.set(c,b)};return this},createExponentialInInterpolator:function(a,b){this.getPosition=function(c){var d=c;if(b)if(c<0.5)c*=2;else c=1-(c-0.5)*2;return this.interpolated.set(d,Math.pow(c,a))};return this},createExponentialOutInterpolator:function(a,
b){this.getPosition=function(c){var d=c;if(b)if(c<0.5)c*=2;else c=1-(c-0.5)*2;return this.interpolated.set(d,1-Math.pow(1-c,a))};return this},createExponentialInOutInterpolator:function(a,b){this.getPosition=function(c){var d=c;if(b)if(c<0.5)c*=2;else c=1-(c-0.5)*2;if(c*2<1)return this.interpolated.set(d,Math.pow(c*2,a)/2);return this.interpolated.set(d,1-Math.abs(Math.pow(c*2-2,a))/2)};return this},createQuadricBezierInterpolator:function(a,b,c,d){this.getPosition=function(e){if(d)if(e<0.5)e*=2;
else e=1-(e-0.5)*2;e=(1-e)*(1-e)*a.y+2*(1-e)*e*b.y+e*e*c.y;return this.interpolated.set(orgtTime,e)};return this},createQubicBezierInterpolator:function(a,b,c,d,e){this.getPosition=function(f){var g=f;if(e)if(f<0.5)f*=2;else f=1-(f-0.5)*2;var h=f*f;f=a.y+f*(-a.y*3+f*(3*a.y-a.y*f))+f*(3*b.y+f*(-6*b.y+b.y*3*f))+h*(c.y*3-c.y*3*f)+d.y*f*h;return this.interpolated.set(g,f)};return this},createElasticOutInterpolator:function(a,b,c){this.getPosition=function(d){if(c)if(d<0.5)d*=2;else d=1-(d-0.5)*2;if(d==
0)return{x:0,y:0};if(d==1)return{x:1,y:1};var e=b/(2*Math.PI)*Math.asin(1/a);return this.interpolated.set(d,a*Math.pow(2,-10*d)*Math.sin((d-e)*2*Math.PI/b)+1)};return this},createElasticInInterpolator:function(a,b,c){this.getPosition=function(d){if(c)if(d<0.5)d*=2;else d=1-(d-0.5)*2;if(d==0)return{x:0,y:0};if(d==1)return{x:1,y:1};var e=b/(2*Math.PI)*Math.asin(1/a);return this.interpolated.set(d,-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*2*Math.PI/b)))};return this},createElasticInOutInterpolator:function(a,
b,c){this.getPosition=function(d){if(c)if(d<0.5)d*=2;else d=1-(d-0.5)*2;var e=b/(2*Math.PI)*Math.asin(1/a);d*=2;if(d<=1)return this.interpolated.set(d,-0.5*a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*2*Math.PI/b));return this.interpolated.set(d,1+0.5*a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*2*Math.PI/b))};return this},bounce:function(a){return(a/=1)<1/2.75?{x:a,y:7.5625*a*a}:a<2/2.75?{x:a,y:7.5625*(a-=1.5/2.75)*a+0.75}:a<2.5/2.75?{x:a,y:7.5625*(a-=2.25/2.75)*a+0.9375}:{x:a,y:7.5625*(a-=2.625/2.75)*a+0.984375}},
createBounceOutInterpolator:function(a){this.getPosition=function(b){if(a)if(b<0.5)b*=2;else b=1-(b-0.5)*2;return this.bounce(b,a)};return this},createBounceInInterpolator:function(a){this.getPosition=function(b){if(a)if(b<0.5)b*=2;else b=1-(b-0.5)*2;b=this.bounce(1-b,a);b.y=1-b.y;return b};return this},createBounceInOutInterpolator:function(a){this.getPosition=function(b){if(a)if(b<0.5)b*=2;else b=1-(b-0.5)*2;if(b<0.5){b=this.bounce(1-b*2,a);b.y=(1-b.y)*0.5;return b}b=this.bounce(b*2-1,a);b.y=b.y*
0.5+0.5;return b};return this},paint:function(a){a=a.crc;a.save();a.beginPath();a.moveTo(0,this.getPosition(0).y*this.paintScale);for(var b=0;b<=this.paintScale;b++)a.lineTo(b,this.getPosition(b/this.paintScale).y*this.paintScale);a.strokeStyle="black";a.stroke();a.restore()},getContour:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.getPosition(c/a).y});return b}}})();(function(){CAAT.InterpolatorActor=function(){CAAT.InterpolatorActor.superclass.constructor.call(this);return this};extend(CAAT.InterpolatorActor,CAAT.Actor,{interpolator:null,contour:null,S:50,setInterpolator:function(a){this.interpolator=a;this.contour=a.getContour(this.S)},paint:function(a,b){CAAT.InterpolatorActor.superclass.paint.call(this,a,b);if(this.interpolator){var c=a.crc;c.save();c.beginPath();c.moveTo(this.contour[0].x/this.S*this.width,this.height-this.contour[0].y/this.S*this.height);
for(var d=1;d<this.contour.length;d++)c.lineTo(this.contour[d].x*this.width,this.height-this.contour[d].y*this.height);c.strokeStyle="black";c.stroke();c.restore()}}})})();(function(){CAAT.Behaviour=function(){this.listenerList=[];this.setDefaultInterpolator();return this};CAAT.Behaviour.prototype={listenerList:null,behaviourStartTime:-1,behaviourDuration:-1,cycleBehaviour:false,expired:true,interpolator:null,setDefaultInterpolator:function(){this.interpolator=(new CAAT.Interpolator).createLinearInterpolator(false)},setPingPong:function(){this.interpolator=(new CAAT.Interpolator).createLinearInterpolator(true)},setFrameTime:function(a,b){this.behaviourStartTime=a;this.behaviourDuration=
b;this.expired=false},setInterpolator:function(a){this.interpolator=a},apply:function(){},setCycle:function(a){this.cycleBehaviour=a},addListener:function(a){this.listenerList.push(a)},getStartTime:function(){return this.behaviourStartTime},getDuration:function(){return this.behaviourDuration},isBehaviourInTime:function(a,b){if(this.expired)return false;if(this.cycleBehaviour)if(a>this.behaviourStartTime)a=(a-this.behaviourStartTime)%this.behaviourDuration+this.behaviourStartTime;if(a>this.behaviourStartTime+
this.behaviourDuration){this.expired||this.setExpired(b,a);return false}return this.behaviourStartTime<a&&a<this.behaviourStartTime+this.behaviourDuration},fireBehaviourExpiredEvent:function(a){for(var b=0;b<this.listenerList.length;b++)this.listenerList[b].behaviourExpired(this,a)},normalizeTime:function(a){a-=this.behaviourStartTime;if(this.cycleBehaviour)a%=this.behaviourDuration;return this.interpolator.getPosition(a/this.behaviourDuration).y},setExpired:function(a,b){this.setForTime(this.interpolator.getPosition(1).y,
a);this.expired=true;this.fireBehaviourExpiredEvent(b)},setForTime:function(){}}})();
(function(){CAAT.ContainerBehaviour=function(){CAAT.ContainerBehaviour.superclass.constructor.call(this);this.behaviours=[];return this};extend(CAAT.ContainerBehaviour,CAAT.Behaviour,{behaviours:null,addBehaviour:function(a){this.behaviours.push(a);a.addListener(this)},apply:function(a,b){if(this.isBehaviourInTime(a,b)){a-=this.getStartTime();if(this.cycleBehaviour)a%=this.getDuration();for(var c=0;c<this.behaviours.length;c++)this.behaviours[c].apply(a,b)}},setInterpolator:function(){},behaviourExpired:function(a){this.cycleBehaviour&&
a.setExpired(false)},setForTime:function(a,b){for(var c=0;c<this.behaviours.length;c++)this.behaviours[c].setForTime(a,b)}})})();
(function(){CAAT.RotateBehaviour=function(){CAAT.RotateBehaviour.superclass.constructor.call(this);this.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;return this};extend(CAAT.RotateBehaviour,CAAT.Behaviour,{minAngle:0,maxAngle:0,anchor:0,apply:function(a,b){if(this.isBehaviourInTime(a,b)){a=this.normalizeTime(a);this.setForTime(a,b)}},setForTime:function(a,b){var c=this.minAngle+a*(this.maxAngle-this.minAngle),d=b.getAnchor(this.anchor);b.setRotationAnchored(c,d.x,d.y)}})})();
(function(){CAAT.ScaleBehaviour=function(){CAAT.RotateBehaviour.superclass.constructor.call(this);this.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;return this};extend(CAAT.ScaleBehaviour,CAAT.Behaviour,{minScaleX:0,maxScaleX:0,minScaleY:0,maxScaleY:0,anchor:0,apply:function(a,b){if(this.isBehaviourInTime(a,b)){a=this.normalizeTime(a);this.setForTime(a,b)}},setForTime:function(a,b){b.setScaleAnchored(this.minScaleX+a*(this.maxScaleX-this.minScaleX),this.minScaleY+a*(this.maxScaleY-this.minScaleY),this.anchor)}})})();
(function(){CAAT.AlphaBehaviour=function(){CAAT.AlphaBehaviour.superclass.constructor.call(this);return this};extend(CAAT.AlphaBehaviour,CAAT.Behaviour,{startAlpha:0,endAlpha:0,apply:function(a,b){if(this.isBehaviourInTime(a,b)){a=this.normalizeTime(a);this.setForTime(a,b)}},setForTime:function(a,b){b.setAlpha(this.startAlpha+a*(this.endAlpha-this.startAlpha))}})})();
(function(){CAAT.PathBehaviour=function(){CAAT.PathBehaviour.superclass.constructor.call(this);return this};extend(CAAT.PathBehaviour,CAAT.Behaviour,{path:null,setPath:function(a){this.path=a},apply:function(a,b){if(this.isBehaviourInTime(a,b)){a=this.normalizeTime(a);this.setForTime(a,b)}},setForTime:function(a,b){var c=this.path.getPosition(a);b.setLocation(c.x,c.y)},positionOnTime:function(a){if(this.isBehaviourInTime(a,null)){a=this.normalizeTime(a);return this.path.getPosition(a)}return{x:-1,
y:-1}}})})();function __scene1_makePath(a){var b=new CAAT.Path;b.interpolator=a;b.beginPath(200,200);b.addCubicTo(300,15,400,10,500,200);b.addQuadricTo(550,300,450,350);b.addQuadricTo(400,400,350,200);b.addCubicTo(100,300,300,450,10,400);b.addQuadricTo(40,200,200,200);b.endPath();return b}
function __scene1_makeInterpolatorActor(a,b,c,d,e,f){var g=new CAAT.InterpolatorActor;g.create();g.setInterpolator(e);g.setBounds(b,c,d,d);g.fillStyle="#c0c0c0";g.interpolatorReal=e;g.mouseDblClick=function(){f.pathMeasure.interpolator=this.interpolatorReal};g.oldPaint=g.paint;g.paint=function(h,j){this.fillStyle=f.pathMeasure.interpolator==this.interpolatorReal?"#00ff7f":"#c0c0c0";this.oldPaint(h,j)};g.mouseDown=g.mouseUp=g.mouseDrag=function(){};a.addChild(g)}
function __scene1(a,b){var c=new CAAT.Scene;c.create();var d=[(new CAAT.Interpolator).createLinearInterpolator(),(new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:0,y:0},{x:1,y:0},{x:1,y:1}),(new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:0,y:1},{x:1,y:0},{x:1,y:1}),(new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}),(new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:0,y:1},{x:0,y:1},{x:1,y:1}),(new CAAT.Interpolator).createExponentialInOutInterpolator(3),
(new CAAT.Interpolator).createBounceInOutInterpolator()],e=__scene1_makePath(d[0]),f=new CAAT.PathActor;f.setBounds(0,0,a.canvas.width,a.canvas.height);f.create();f.setPath(e);c.addChild(f);conpoundimage=new CAAT.ConpoundBitmap;conpoundimage.initialize(b[0],1,3);f=new CAAT.Pez;f.setBounds(200,70,100,100);f.create();f.setSpriteImage(conpoundimage);c.addChild(f);var g=new CAAT.PathBehaviour;g.setPath(e);g.setInterpolator(d[0]);g.setFrameTime(0,1E4);g.setCycle(true);f.pathMeasure=g;for(e=0;e<d.length;e++)__scene1_makeInterpolatorActor(c,
a.canvas.width-90,10+e*65,60,d[e],f);scene1_text(a,c);return c}
function scene1_text(a,b){var c=new CAAT.ActorContainer;c.setBounds(0,30,280,170);c.create();c.mouseEnabled=false;b.addChild(c);var d=new CAAT.RotateBehaviour;d.cycleBehaviour=true;d.setFrameTime(0,4E3);d.minAngle=-Math.PI/8;d.maxAngle=Math.PI/8;d.setInterpolator((new CAAT.Interpolator).createExponentialInOutInterpolator(3,true));d.anchor=CAAT.Actor.prototype.ANCHOR_TOP;c.addBehaviour(d);d=a.crc.createLinearGradient(0,0,0,30);d.addColorStop(0,"#00ff00");d.addColorStop(0.5,"red");d.addColorStop(1,
"blue");var e=new CAAT.TextActor;e.font="20px sans-serif";e.setText("Conpound Path");e.textAlign="center";e.setLocation(150,0);e.create();e.fillStyle=d;e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="20px sans-serif";e.textAlign="center";e.setText("Quadric,Cubic,Line segments");e.setLocation(150,20);e.create();e.fillStyle=d;e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="20px sans-serif";e.textAlign="center";e.setText("Fish Path");e.setLocation(150,50);e.create();e.fillStyle=d;
e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="20px sans-serif";e.textAlign="center";e.setText("Interpolators");e.setLocation(150,70);e.create();e.fillStyle=d;e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="20px sans-serif";e.textAlign="center";e.setText("DblClick to Select");e.setLocation(150,90);e.create();e.fillStyle=d;e.outline=true;c.addChild(e)};function __scene2(a,b){var c=new CAAT.Scene;c.create();conpoundimage=new CAAT.ConpoundBitmap;conpoundimage.initialize(b[1],6,6);var d=0,e=a.canvas.width-20,f=a.canvas.height-20,g=e/conpoundimage.singleHeight>>0,h=f/conpoundimage.singleWidth>>0;e=e/g;var j=f/h,i=new CAAT.ActorContainer;i.setBounds(0,0,a.canvas.width,a.canvas.height);i.create();c.addChild(i);for(var k=0;k<h;k++)for(var n=0;n<g;n++){var l=new CAAT.SpriteActor;l.setBounds(n*e+10,k*j+10,e,j);l.create();l.setSpriteImage(conpoundimage);
l.setAnimationImageIndex([d++%conpoundimage.getNumImages()]);i.addChild(l);f=new CAAT.ScaleBehaviour;f.setPingPong();f.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;f.minScaleX=1;f.maxScaleX=2;f.minScaleY=1;f.maxScaleY=2;f.expired=true;f.setInterpolator((new CAAT.Interpolator).createExponentialInOutInterpolator(3,true));l.addBehaviour(f);f=new CAAT.RotateBehaviour;f.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;f.minAngle=0;f.maxAngle=Math.PI*2;f.expired=true;l.addBehaviour(f);l.mouseDblClick=function(o){var m=
o.source;if(null!=m){var p=m.behaviourList[0];if(null!=p)if(p.expired){m.parent.removeChild(m);m.parent.addChild(m);m.behaviourList[0].setFrameTime(o.source.time,1E3)}}};l.mouseEnter=function(o){var m=o.source;if(null!=m){var p=m.behaviourList[0];if(null!=p)if(p.expired){m.parent.removeChild(m);m.parent.addChild(m);m.behaviourList[0].setFrameTime(o.source.time,500);m.behaviourList[1].setFrameTime(o.source.time,500)}}}}d=a.crc.createLinearGradient(0,0,0,30);d.addColorStop(0,"#ffff00");d.addColorStop(0.5,
"#ff00ff");d.addColorStop(1,"blue");g=new CAAT.ActorContainer;g.setBounds(380,30,300,150);g.create();c.addChild(g);g.mouseEnabled=false;f=new CAAT.RotateBehaviour;f.cycleBehaviour=true;f.setFrameTime(0,4E3);f.minAngle=-Math.PI/8;f.maxAngle=Math.PI/8;f.setInterpolator((new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1},true));f.anchor=CAAT.Actor.prototype.ANCHOR_TOP;g.addBehaviour(f);h=new CAAT.TextActor;h.font="50px sans-serif";h.setText("One Image.");h.textAlign=
"center";h.setLocation(150,0);h.create();h.fillStyle=d;h.outline=true;g.addChild(h);h=new CAAT.TextActor;h.font="30px sans-serif";h.textAlign="center";h.setText("Behaviours on");h.setLocation(150,50);h.create();h.fillStyle=d;h.outline=true;g.addChild(h);h=new CAAT.TextActor;h.font="30px sans-serif";h.textAlign="center";h.setText("MouseMove");h.setLocation(150,80);h.create();h.fillStyle=d;h.outline=true;g.addChild(h);h=new CAAT.TextActor;h.font="10px sans-serif";h.textAlign="center";h.setText("and");
h.setLocation(150,110);h.create();h.fillStyle="black";h.outline=true;g.addChild(h);h=new CAAT.TextActor;h.font="30px sans-serif";h.textAlign="center";h.setText("MouseDblClick");h.setLocation(150,120);h.create();h.fillStyle=d;h.outline=true;g.addChild(h);g.mouseEnabled=false;c.addChild(g);return c};function __scene3(a,b){var c=new CAAT.Scene;c.create();var d=a.crc.createLinearGradient(0,0,0,50);d.addColorStop(0,"blue");d.addColorStop(0.5,"orange");d.addColorStop(1,"yellow");var e=new CAAT.ActorContainer;e.setBounds(380,30,300,150);e.create();c.addChild(e);e.mouseEnabled=false;var f=new CAAT.RotateBehaviour;f.cycleBehaviour=true;f.setFrameTime(0,4E3);f.minAngle=-Math.PI/8;f.maxAngle=Math.PI/8;f.setInterpolator((new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,y:1},
{x:1,y:1},true));f.anchor=CAAT.Actor.prototype.ANCHOR_TOP;e.addBehaviour(f);f=new CAAT.TextActor;f.font="50px sans-serif";f.setText("Anchored");f.textAlign="center";f.setLocation(150,0);f.create();f.fillStyle=d;f.outline=true;e.addChild(f);f=new CAAT.TextActor;f.font="50px sans-serif";f.textAlign="center";f.setText("Affine");f.setLocation(150,50);f.create();f.fillStyle=d;f.outline=true;e.addChild(f);f=new CAAT.TextActor;f.font="50px sans-serif";f.textAlign="center";f.setText("Transforms");f.setLocation(150,
100);f.create();f.fillStyle=d;f.outline=true;e.addChild(f);var g=new CAAT.ConpoundBitmap;g.initialize(b[0],1,3);var h=[5,1,6,3,0,4,7,2,8];for(d=0;d<9;d++){e=new CAAT.SpriteActor;e.setAnimationImageIndex([0,1,2,1]);e.setSpriteImage(g);e.changeFPS=350;e.setLocation(60+g.singleWidth*2*(d%3),60+g.singleWidth*(d/3>>0));e.create();f=new CAAT.RotateBehaviour;f.cycleBehaviour=true;f.setFrameTime(0,2E3);f.minAngle=0;f.maxAngle=Math.PI*2;f.anchor=h[d];e.addBehaviour(f);c.addChild(e)}f=40+g.singleWidth*3+40;
for(d=0;d<9;d++){e=new CAAT.SpriteActor;e.setAnimationImageIndex([0,1,2,1]);e.setSpriteImage(g);e.changeFPS=350;e.setLocation(60+g.singleWidth*2*(d%3),60+g.singleWidth*(d/3>>0)+f);e.create();var j=new CAAT.ScaleBehaviour;j.cycleBehaviour=true;j.setFrameTime(0,2E3);j.minScaleX=0.5;j.minScaleY=0.5;j.maxScaleX=1.5;j.maxScaleY=1.5;j.setPingPong();j.anchor=h[d];e.addBehaviour(j);c.addChild(e)}for(d=0;d<16;d++){e=new CAAT.SpriteActor;e.setAnimationImageIndex([0,1,2,1]);e.setSpriteImage(g);e.changeFPS=350;
f=d/16*Math.PI*2;e.setLocation(525+100*Math.cos(f),300+100*Math.sin(f));e.create();e.setRotation(f);j=new CAAT.ScaleBehaviour;j.setPingPong();j.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;j.minScaleX=1;j.maxScaleX=3;j.minScaleY=1;j.maxScaleY=1;j.expired=true;j.anchor=CAAT.Actor.prototype.ANCHOR_LEFT;e.addBehaviour(j);f=new CAAT.AlphaBehaviour;f.setPingPong();f.startAlpha=1;f.endAlpha=0;f.setFrameTime(d*250,2E3);f.setCycle(true);e.addBehaviour(f);e.mouseEnter=function(i){var k=i.source;if(null!=k){var n=
k.behaviourList[0];null!=n&&n.expired&&k.behaviourList[0].setFrameTime(i.source.time,1E3)}};c.addChild(e)}c.paint=function(i){i=i.crc;i.strokeStyle="black";for(var k=0;k<9;k++){i.strokeRect(60+g.singleWidth*2*(k%3),60+g.singleWidth*(k/3>>0),48,27);i.strokeRect(60+g.singleWidth*2*(k%3),60+g.singleWidth*(k/3>>0)+40+g.singleWidth*3+40,48,27)}};return c};function __scene4(a){var b=new CAAT.Scene;b.create();var c=new CAAT.ActorContainer;c.setBounds(0,0,a.canvas.width,a.canvas.height);c.create();b.addChild(c);var d=new CAAT.TextActor;d.font="20px sans-serif";d.textAlign="left";d.textBaseline="top";d.setText("");d.setLocation(15,20);d.create();d.fillStyle="black";d.outlineColor="white";d.ouline=true;b.addChild(d);d=new CAAT.TextActor;d.font="20px sans-serif";d.textAlign="left";d.textBaseline="top";d.setText("");d.setLocation(15,42);d.create();d.fillStyle=
"black";d.outlineColor="white";d.ouline=true;b.addChild(d);d=new CAAT.TextActor;d.font="20px sans-serif";d.textAlign="left";d.textBaseline="top";d.setText("");d.setLocation(15,64);d.create();d.fillStyle="black";d.outlineColor="white";d.ouline=true;b.addChild(d);d=function(i){i=i.source;if(null!=i){var k=i.parent;k.removeChild(i);k.addChild(i)}};for(var e=0;e<20;e++){var f=new CAAT.ActorContainer;f.setBounds(Math.random()*a.canvas.width,Math.random()*a.canvas.height,80,80);f.create();f.setRotation(Math.PI*
2*Math.random());var g=1+Math.random()*0.25;f.setScale(g,g);f.fillStyle="#ff3fff";f.paint=function(i){i=i.crc;if(null!=this.parent&&null!=this.fillStyle){i.fillStyle=this.pointed?"orange":this.fillStyle!=null?this.fillStyle:"white";i.fillRect(0,0,this.width,this.height)}i.strokeStyle=this.pointed?"red":"black";i.strokeRect(0,0,this.width,this.height);if(this.clip){i.beginPath();i.rect(0,0,this.width,this.height);i.clip();i.strokeStyle="white";i.beginPath();i.moveTo(5,10);i.lineTo(20,10);i.lineTo(15,
5);i.moveTo(20,10);i.lineTo(15,15);i.lineWidth=2;i.lineJoin="round";i.lineCap="round";i.stroke()}};f.mouseDblClick=d;c.addChild(f);var h=function(i,k){var n=i.crc;CAAT.Actor.prototype.paint.call(this,i,k);n.fillStyle="black";n.fillRect(1,1,5,5)};g=new CAAT.Actor;g.setBounds(20,20,20,20);g.create();g.setRotation(Math.PI*2*Math.random());g.fillStyle="#a03f00";g.mouseDblClick=d;g.paint=h;f.addChild(g);var j=new CAAT.Actor;j.setBounds(40,40,20,20);j.create();j.setRotation(Math.PI*2*Math.random());j.fillStyle=
"#ffff3f";j.mouseDblClick=d;j.paint=h;f.addChild(j);j.enableDrag();g.enableDrag();f.enableDrag();j.__mouseMove=j.mouseMove;g.__mouseMove=g.mouseMove;f.__mouseMove=f.mouseMove;h=function(i){var k=i.source;k.__mouseMove.call(this,i);k.parent.parent.parent.childList[1].setText("Local Coord: ("+(i.point.x*100>>0)/100+","+(i.point.y*100>>0)/100+")");k.parent.parent.parent.childList[2].setText("Screen Coord: ("+i.screenPoint.x+","+i.screenPoint.y+")");k.parent.parent.parent.childList[3].setText("Parent Pos: ("+
(k.x*100>>0)/100+","+(k.y*100>>0)/100+")")};f.mouseMove=function(i){var k=i.source;k.__mouseMove.call(this,i);k.parent.parent.childList[1].setText("Local Coord: ("+(i.point.x*100>>0)/100+","+(i.point.y*100>>0)/100+")");k.parent.parent.childList[2].setText("Screen Coord: ("+i.screenPoint.x+","+i.screenPoint.y+")");k.parent.parent.childList[3].setText("Parent Pos: ("+(k.x*100>>0)/100+","+(k.y*100>>0)/100+")")};g.mouseMove=h;j.mouseMove=h}b.__mouseMove=b.mouseMove;b.mouseMove=function(i){i.source.__mouseMove.call(this,
i);i.source.childList[1].setText("");i.source.childList[2].setText("")};c=a.crc.createLinearGradient(0,0,0,50);c.addColorStop(0,"green");c.addColorStop(0.5,"red");c.addColorStop(1,"yellow");a=new CAAT.ActorContainer;a.setBounds(380,30,300,150);a.create();b.addChild(a);a.mouseEnabled=false;d=new CAAT.RotateBehaviour;d.cycleBehaviour=true;d.setFrameTime(0,4E3);d.minAngle=-Math.PI/8;d.maxAngle=Math.PI/8;d.setInterpolator((new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,
y:1},{x:1,y:1},true));d.anchor=CAAT.Actor.prototype.ANCHOR_TOP;a.addBehaviour(d);d=new CAAT.TextActor;d.font="30px sans-serif";d.setText("Perfect Pixel");d.textAlign="center";d.setLocation(150,0);d.create();d.fillStyle=c;d.outline=true;a.addChild(d);d=new CAAT.TextActor;d.font="30px sans-serif";d.textAlign="center";d.setText("Collision detection");d.setLocation(150,30);d.create();d.fillStyle=c;d.outline=true;a.addChild(d);d=new CAAT.TextActor;d.font="30px sans-serif";d.textAlign="center";d.setText("Drag Enabled");
d.setLocation(150,60);d.create();d.fillStyle=c;d.outline=true;a.addChild(d);c=new CAAT.TextActor;c.font="20px sans-serif";c.textAlign="center";c.setText("Drag + [Control,Shift,Alt]");c.setLocation(150,100);c.create();c.fillStyle="black";a.addChild(c);c=new CAAT.TextActor;c.font="20px sans-serif";c.textAlign="center";c.setText("Double Click");c.setLocation(150,120);c.create();c.fillStyle="black";a.addChild(c);a.mouseEnabled=false;return b};function __scene5(a){var b=new CAAT.Scene;b.create();var c=new CAAT.Path;c.beginPath(155,250);c.addCubicTo(155,0,535,0,535,250);c.addCubicTo(535,500,155,500,155,250);c.endPath();var d=new CAAT.PathActor;d.setPath(c);d.setBounds(0,0,a.canvas.width,a.canvas.height);d.create();b.addChild(d);d=a.crc.createLinearGradient(0,0,0,-40);d.addColorStop(0,"#ffff00");d.addColorStop(0.5,"#00ffff");d.addColorStop(1,"blue");var e=new CAAT.TextActor;e.font="40px sans-serif";e.setText("Text on path   :D");e.textAlign=
"left";e.create();e.fillStyle=d;e.textBaseline="bottom";e.setPath(c);b.addChild(e);d=a.crc.createLinearGradient(0,0,0,40);d.addColorStop(0,"#0000ff");d.addColorStop(0.5,"#ff0000");d.addColorStop(1,"#ffff00");e=new CAAT.TextActor;e.font="40px sans-serif";e.setText("Text under path   :D");e.textAlign="left";e.create();e.fillStyle=d;e.textBaseline="top";e.setPath(c);e.sign=-1;b.addChild(e);__scene5_text(a,b);return b}
function __scene5_text(a,b){var c=new CAAT.ActorContainer;c.setBounds(200,200,280,170);c.create();c.mouseEnabled=false;b.addChild(c);var d=new CAAT.RotateBehaviour;d.cycleBehaviour=true;d.setFrameTime(0,4E3);d.minAngle=-Math.PI/8;d.maxAngle=Math.PI/8;d.setInterpolator((new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1},true));d.anchor=CAAT.Actor.prototype.ANCHOR_TOP;c.addBehaviour(d);d=a.crc.createLinearGradient(0,0,0,30);d.addColorStop(0,"black");d.addColorStop(0.5,
"gray");d.addColorStop(1,"#d0d0d0");var e=new CAAT.TextActor;e.font="40px sans-serif";e.setText("Text on Path");e.textAlign="center";e.setLocation(150,0);e.create();e.fillStyle=d;e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="40px sans-serif";e.textAlign="center";e.setText("Interpolated");e.setLocation(150,40);e.create();e.fillStyle=d;e.outline=true;c.addChild(e);e=new CAAT.TextActor;e.font="40px sans-serif";e.textAlign="center";e.setText("As well");e.setLocation(150,80);e.create();e.fillStyle=
d;e.outline=true;c.addChild(e)};function __scene6(a,b){var c=new CAAT.Scene;c.create();var d=new CAAT.ConpoundBitmap;d.initialize(b[0],1,3);var e=a.canvas.width/d.singleWidth>>0,f=a.canvas.height/d.singleWidth>>0,g=(a.canvas.width-e*d.singleWidth)/2,h=(a.canvas.height-f*d.singleWidth)/2,j=new CAAT.ActorContainer;j.create();j.setBounds(0,0,a.canvas.width,a.canvas.height);j.mouseEnabled=false;c.addChild(j);for(var i=0;i<f;i++)for(var k=0;k<e;k++){var n=new CAAT.SpriteActor;n.setAnimationImageIndex([0,1,2,1]);n.setSpriteImage(d);n.changeFPS=
250+250*Math.random();n.setLocation(g+k*d.singleWidth,h+i*d.singleWidth);n.create();j.addChild(n)}d=new CAAT.Actor;d.create();d.setBounds(a.canvas.width/2,a.canvas.height/2,10,10);d.__orgX=d.x;d.__orgY=d.y;d.fillStyle="blue";d.mouseEnabled=false;d.paint=function(l){l=l.crc;l.beginPath();l.globalAlpha=0.75;l.fillStyle=this.fillStyle;l.arc(0,0,this.width,0,Math.PI*2,false);l.fill()};d.animate=function(l,o){if(false==this.parent.pointed){var m=Math.PI*2*Math.sin(o*3.0E-4)+i*Math.PI/50,p=this.parent.width/
8*Math.cos(o*3.0E-4);this.setLocation(this.__orgX+this.parent.width/4*Math.cos(o*3.0E-4)+p*Math.cos(m)/2,this.__orgY+this.parent.height/4*Math.sin(o*3.0E-4)+p*Math.sin(m)/2);this.parent.magneticField(this.x,this.y,this.parent.childList[0])}CAAT.Actor.prototype.animate.call(this,l,o)};c.addChild(d);c.mouseMove=function(l){l.source.childList[1].setLocation(l.point.x,l.point.y);c.magneticField(l.point.x,l.point.y,l.source.childList[0])};c.magneticField=function(l,o,m){for(var p=0;p<m.childList.length;p++){var q=
m.childList[p];q.setRotation(Math.atan2(o-(q.y+q.height/2),l-(q.x+q.width/2)))}};__scene6_text(a,c);return c}
function __scene6_text(a,b){var c=a.crc.createLinearGradient(0,0,0,50);c.addColorStop(0,"black");c.addColorStop(0.5,"gray");c.addColorStop(1,"#c0c0c0");var d=new CAAT.ActorContainer;d.setBounds(380,30,300,150);d.create();b.addChild(d);d.mouseEnabled=false;var e=new CAAT.RotateBehaviour;e.cycleBehaviour=true;e.setFrameTime(0,4E3);e.minAngle=-Math.PI/8;e.maxAngle=Math.PI/8;e.setInterpolator((new CAAT.Interpolator).createQubicBezierInterpolator({x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1},true));e.anchor=
CAAT.Actor.prototype.ANCHOR_TOP;d.addBehaviour(e);e=new CAAT.TextActor;e.font="50px sans-serif";e.setText("Fish");e.textAlign="center";e.setLocation(150,0);e.create();e.fillStyle=c;e.outline=true;d.addChild(e);e=new CAAT.TextActor;e.font="50px sans-serif";e.setText("Field");e.textAlign="center";e.setLocation(150,50);e.create();e.fillStyle=c;e.outline=true;d.addChild(e);b.addChild(d)};function setupTRButton(a){var b=new CAAT.ScaleBehaviour;b.setPingPong();b.anchor=CAAT.Actor.prototype.ANCHOR_CENTER;b.minScaleX=1;b.maxScaleX=1.5;b.minScaleY=1;b.maxScaleY=1.5;b.expired=true;a.addBehaviour(b);b=new CAAT.AlphaBehaviour;b.setPingPong();b.startAlpha=1;b.endAlpha=0.5;b.setCycle(true);a.addBehaviour(b);a.mouseExit=function(c){var d=c.source;if(null!=d)if(null!=d.behaviourList[0]){d.pointed=false;d.behaviourList[0].setExpired(d,c.source.time);d.behaviourList[1].setExpired(d,c.source.time)}};
a.mouseEnter=function(c){var d=c.source;if(null!=d){var e=d.behaviourList[0];if(null!=e){d.pointed=true;if(e.expired){d.behaviourList[0].setFrameTime(c.source.time,1E3);d.behaviourList[0].setCycle(true);d.behaviourList[1].setFrameTime(c.source.time,1E3);d.behaviourList[1].setCycle(true)}}}}}
function setupTRButtonPaint(a){a.fillStyle="#0000ff";a.paint=function(b){b=b.crc;if(null!=this.parent&&null!=this.fillStyle){b.beginPath();b.fillStyle=this.pointed?"orange":this.fillStyle!=null?this.fillStyle:"white";b.arc(10,10,10,0,Math.PI*2,false);b.fill()}if(this.clip){b.beginPath();b.rect(0,0,this.width,this.height);b.clip()}b.strokeStyle=this.pointed?"green":"#ffff00";b.beginPath();b.moveTo(3,10);b.lineTo(17,10);b.lineTo(13,5);b.moveTo(17,10);b.lineTo(13,15);b.lineWidth=2;b.lineJoin="round";
b.lineCap="round";b.stroke()}}
function setupTRButtonPaintIndex(a){a.paint=function(b){b=b.crc;if(null!=this.parent&&null!=this.fillStyle){b.beginPath();b.fillStyle=this.pointed?"orange":this.fillStyle!=null?this.fillStyle:"white";b.arc(10,10,10,0,Math.PI*2,false);b.fill()}if(this.clip){b.beginPath();b.rect(0,0,this.width,this.height);b.clip()}b.fillStyle="#ffff00";b.textBaseline="top";b.font="18px sans-serif";var c=""+(this.__sceneIndex+1),d=b.measureText(c).width;b.fillText(c,(this.width-d)/2,0)}}
function __init(a){var b=document.getElementById("s");b.width=680;b.height=500;var c=new CAAT.Director;c.initialize(b);__GlobalEnableEvents(c);c.addScene(__scene1(c,a));c.addScene(__scene2(c,a));c.addScene(__scene3(c,a));c.addScene(__scene4(c,a));c.addScene(__scene5(c,a));c.addScene(__scene6(c,a));c.easeIn(0,CAAT.Scene.prototype.EASE_SCALE,2E3,false,CAAT.Actor.prototype.ANCHOR_CENTER,(new CAAT.Interpolator).createElasticOutInterpolator(2.5,0.4));a=(b.width-22.5*c.getNumScenes())/2;for(var d=0;d<c.getNumScenes();d++){if(d!=
0){var e=new CAAT.Actor;e.create();e.setBounds(5,470,20,20);e.setRotation(Math.PI);e.fillStyle="#0000ff";e.mouseClick=function(){c.switchToPrevScene(1E3,false,true)};c.scenes[d].addChild(e);setupTRButton(e);setupTRButtonPaint(e)}if(d!=c.getNumScenes()-1){e=new CAAT.Actor;e.create();e.setBounds(b.width-20-5,470,20,20);e.fillStyle="#0000ff";e.mouseClick=function(){c.switchToNextScene(1E3,false,true)};c.scenes[d].addChild(e);setupTRButton(e);setupTRButtonPaint(e)}for(e=0;e<c.getNumScenes();e++){var f=
new CAAT.Actor;f.__sceneIndex=e;f.create();f.setBounds(a+e*22.5,470,20,20);if(e!=d){f.mouseClick=function(g){c.switchToScene(g.source.__sceneIndex,1E3,false,true)};setupTRButton(f);f.fillStyle="#0000ff"}else{f.mouseEnabled=false;f.fillStyle="#c07f00"}c.scenes[d].addChild(f);setupTRButtonPaintIndex(f,e+1)}}CAAT.director=c;CAAT.time=(new Date).getTime();setInterval(function(){CAAT.director.render((new Date).getTime()-CAAT.time)},30)}
window.addEventListener("load",function(){(new CAAT.ImagePreloader).loadImages(["res/img/anim1.png","res/img/chapas.jpg"],__init)},false);
