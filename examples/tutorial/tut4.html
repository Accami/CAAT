<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Tutorial 4 - Interpolators</title>

<script type="text/javascript" src="sh/shCore.js"></script>
<script type="text/javascript" src="sh/shBrushJScript.js"></script>
<link href="sh/shCore.css" rel="stylesheet" type="text/css" />
<link href="sh/shThemeDefault.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="../../src/CAAT.js"></script>

<script type="text/javascript" src="../../src/core/class.js"></script>
<script type="text/javascript" src="../../src/core/browserdetect.js"></script>

<script type="text/javascript" src="../../src/model/actor.js"></script>
<script type="text/javascript" src="../../src/model/conpoundimage.js"></script>
<script type="text/javascript" src="../../src/model/imagepreloader.js"></script>
<script type="text/javascript" src="../../src/model/director.js"></script>
<script type="text/javascript" src="../../src/model/mouseevent.js"></script>
<script type="text/javascript" src="../../src/model/scene.js"></script>

<script type="text/javascript" src="../../src/math/affinetransform2D.js"></script>
<script type="text/javascript" src="../../src/math/point.js"></script>
<script type="text/javascript" src="../../src/math/rectangle.js"></script>
<script type="text/javascript" src="../../src/math/bezier.js"></script>

<script type="text/javascript" src="../../src/path/path.js"></script>
<script type="text/javascript" src="../../src/path/pathactor.js"></script>
<script type="text/javascript" src="../../src/path/interpolator.js"></script>
<script type="text/javascript" src="../../src/path/interpolatoractor.js"></script>

<script type="text/javascript" src="../../src/behaviour/behaviour.js"></script>

<script type="text/javascript">
     SyntaxHighlighter.all()
</script>

<style>
    div.code {
       font-size: .7em;
    }
    div.APIENTRY {
        background-color: #f0f0f0;
    }
</style>

</head>
<body style="color:black; background:#ffffff;">

<div class="section">
    <h1>Interpolators</h1>
    <p>Interpolator objects are used mainly in CAAT.Behavior objects to define the way they are applied.</p>
    <p>The default interpolator applied to any Behavior is a linear ramp, that is, the Behavior is applied in regular
    time increments.</p>
    <p>A CAAT.Interpolator object has the abbility to modify this linearity, and apply Behaviors differently, in example
    accelerating, exponentially, etc. but always taking the stablished time, and ending in the final target values set
    for the concrete behavior.</p>
    <p>In CAAT an interpolator will an object with two methods:</p>
    <div class="APIENTRY">
        <p><b>function getContour( number-of-samples )</b></p>
        <p>This method returns an array on 'number-of-samples' objects of the form {x: float, y:float}.</p>
    </div>
    <div class="APIENTRY">
        <p><b>function getPosition( time )</b></p>
        <p>This method will return an object of the form {x: time, y: float}. The 'time' parameter will a normalized
        value between 0 and 1. This function will evaluate the Interpolator function for the parameter, which will
        normally return a value between 0 and 1.</p>
    </div>
    <p>
        The CAAT.Interpolator implementation, defines some methods of the form create&lt;SombreDescription&gt;Interpolator
        each of which creates a method which evaluates a function as time parameter modifier. These methods, among
        other possible parameters, accept at least one parameters.
    </p>
    <ul>
        <li>pingpong. A boolean value indicating whether the Interpolator function evaluates in two halves. One half
        to reach the maximum function value, and the other to get back from the maximum function value, to the minimum one.</li>
    </ul>

    <p>Here you can see the visual representation of every defined CAAT.Interpolator:</p>
    
    <div>
        <h2>Linear Interpolator</h2>
        <div>
            <table cellpadding="5">
                <tr colspan="2" align="center">Inverse= <b>false</b></tr>
                <tr>
                    <td>Pinpong=<b>false</b></td>
                    <td>Pinpong=<b>true</b></td>
                </tr>
                <tr>
                    <td><canvas id='_linear_noinverse0'></canvas></td>
                    <td><canvas id='_linear_noinverse1'></canvas></td>
                </tr>
            </table>
        </div>
        <script>
            (function() {
                var lerps= [
                        new CAAT.Interpolator().createLinearInterpolator(false, false),
                        new CAAT.Interpolator().createLinearInterpolator(true,  false)
                ];

                var i, count=0;
                for( i=0; i<lerps.length; i++) {
                    var _director_1= new CAAT.Director().initialize(
                            100,
                            100,
                            document.getElementById('_linear_noinverse'+count++));

                    var _scene_1= new CAAT.Scene().create();

                    _director_1.addScene( _scene_1 );

                    _scene_1.addChild(
                            new CAAT.InterpolatorActor().
                                create().
                                setInterpolator( lerps[i] ).
                                setBounds( 10, 10, 80, 80 ).
                                setFillStyle('#d0d0d0') );

                    _director_1.loop(1);
                }
            })();
        </script>
    </div>

    <div>
        <h2>Linear Inverse Interpolator</h2>
        <div>
            <table cellpadding="5">
                <tr colspan="2" align="center">Inverse= <b>true</b></tr>
                <tr>
                    <td>Pinpong=<b>false</b></td>
                    <td>Pinpong=<b>true</b></td>
                </tr>
                <tr>
                    <td><canvas id='_linear_inverse0'></canvas></td>
                    <td><canvas id='_linear_inverse1'></canvas></td>
                </tr>
            </table>
        </div>
        <script>
            (function() {
                var lerps= [
                        new CAAT.Interpolator().createLinearInterpolator(false, true),
                        new CAAT.Interpolator().createLinearInterpolator(true,  true)
                ];

                var i, count=0;
                for( i=0; i<lerps.length; i++) {
                    var _director_1= new CAAT.Director().initialize(
                            100,
                            100,
                            document.getElementById('_linear_inverse'+count++));

                    var _scene_1= new CAAT.Scene().create();

                    _director_1.addScene( _scene_1 );

                    _scene_1.addChild(
                            new CAAT.InterpolatorActor().
                                create().
                                setInterpolator( lerps[i] ).
                                setBounds( 10, 10, 80, 80 ).
                                setFillStyle('#d0d0d0') );

                    _director_1.loop(1);
                }
            })();
        </script>
    </div>
    <div>
        <h2>Exponential Interpolator</h2>
        <p>
            The exponential interpolator, accepts two parameters. The exponent of the Interpolator function and the
            previously described pingpong boolean value.</p>
        <div>
            <table cellpadding="5">
                <tr>
                    <td colspan="3" align="center">Pinpong=<b>false</b></td>
                    <td colspan="3" align="center">Pinpong=<b>true</b></td>
                </tr>
                <tr>
                    <td>Exponent</td>
                    <td>ExponentialIn</td>
                    <td>ExponentialOut</td>
                    <td>ExponentialInOut</td>
                    <td>ExponentialIn</td>
                    <td>ExponentialOut</td>
                    <td>ExponentialInOut</td>
                </tr>
                <tr>
                    <td><span id="_exponent0"></span></td>
                    <td><canvas id='_exp_0'></canvas></td>
                    <td><canvas id='_exp_1'></canvas></td>
                    <td><canvas id='_exp_2'></canvas></td>
                    <td><canvas id='_exp_3'></canvas></td>
                    <td><canvas id='_exp_4'></canvas></td>
                    <td><canvas id='_exp_5'></canvas></td>
                </tr>
                <tr>
                    <td><span id="_exponent1"></span></td>
                    <td><canvas id='_exp_6'></canvas></td>
                    <td><canvas id='_exp_7'></canvas></td>
                    <td><canvas id='_exp_8'></canvas></td>
                    <td><canvas id='_exp_9'></canvas></td>
                    <td><canvas id='_exp_10'></canvas></td>
                    <td><canvas id='_exp_11'></canvas></td>
                </tr>
                <tr>
                    <td><span id="_exponent2"></span></td>
                    <td><canvas id='_exp_12'></canvas></td>
                    <td><canvas id='_exp_13'></canvas></td>
                    <td><canvas id='_exp_14'></canvas></td>
                    <td><canvas id='_exp_15'></canvas></td>
                    <td><canvas id='_exp_16'></canvas></td>
                    <td><canvas id='_exp_17'></canvas></td>
                </tr>
            </table>
        </div>
        <script>
            (function() {

                var lerps= [
                    [
                        new CAAT.Interpolator().createExponentialInInterpolator(    2, false),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   2, false),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 2, false),

                        new CAAT.Interpolator().createExponentialInInterpolator(    2, true),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   2, true),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 2, true),
                    ],
                    [
                        new CAAT.Interpolator().createExponentialInInterpolator(    4, false),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   4, false),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 4, false),

                        new CAAT.Interpolator().createExponentialInInterpolator(    4, true),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   4, true),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 4, true),
                    ],
                    [
                        new CAAT.Interpolator().createExponentialInInterpolator(    6, false),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   6, false),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 6, false),

                        new CAAT.Interpolator().createExponentialInInterpolator(    6, true),
                        new CAAT.Interpolator().createExponentialOutInterpolator(   6, true),
                        new CAAT.Interpolator().createExponentialInOutInterpolator( 6, true),
                    ]
                ];

                var i, j, count=0;
                for( j=0; j<lerps.length; j++) {
                    document.getElementById('_exponent'+j).innerHTML="<span align='center'>"+(1+j)*2+"</span>";
                    for( i=0; i<lerps[j].length; i++) {

                        var _director_1= new CAAT.Director().initialize(
                                100,
                                100,
                                document.getElementById('_exp_'+count++));

                        var _scene_1= new CAAT.Scene().create();

                        _director_1.addScene( _scene_1 );
                        
                        _scene_1.addChild(
                                new CAAT.InterpolatorActor().
                                    create().
                                    setInterpolator( lerps[j][i] ).
                                    setBounds( 10, 10, 80, 80 ).
                                    setFillStyle('#d0d0d0') );

                        _director_1.loop(1);
                    }
                }
            })();
        </script>
    </div>


    <div>
         <h2>Bounce Interpolator</h2>
        <div>
            <table cellpadding="5">
                <tr>
                    <td colspan="3" align="center">Pinpong=<b>false</b></td>
                    <td colspan="3" align="center">Pinpong=<b>true</b></td>
                </tr>
                <tr>
                    <td>BounceIn</td>
                    <td>BounceOut</td>
                    <td>BounceInOut</td>
                    <td>BounceIn</td>
                    <td>BounceOut</td>
                    <td>BounceInOut</td>
                </tr>
                <tr>
                    <td><canvas id='_bounce_0'></canvas></td>
                    <td><canvas id='_bounce_1'></canvas></td>
                    <td><canvas id='_bounce_2'></canvas></td>
                    <td><canvas id='_bounce_3'></canvas></td>
                    <td><canvas id='_bounce_4'></canvas></td>
                    <td><canvas id='_bounce_5'></canvas></td>
                </tr>
            </table>
        </div>
         <script>
             (function() {
                 var lerps= [
                    [
                         new CAAT.Interpolator().createBounceInInterpolator(false),
                         new CAAT.Interpolator().createBounceOutInterpolator(false),
                         new CAAT.Interpolator().createBounceInOutInterpolator(false),

                         new CAAT.Interpolator().createBounceInInterpolator(true),
                         new CAAT.Interpolator().createBounceOutInterpolator(true),
                         new CAAT.Interpolator().createBounceInOutInterpolator(true)
                    ]
                 ];

                 var i, j, count=0;
                 for( j=0; j<lerps.length; j++) {
                     for( i=0; i<lerps[j].length; i++) {

                         var _director_1= new CAAT.Director().initialize(
                                 100,
                                 100,
                                 document.getElementById('_bounce_'+count++));

                         var _scene_1= new CAAT.Scene().create();

                         _director_1.addScene( _scene_1 );

                         _scene_1.addChild(
                                 new CAAT.InterpolatorActor().
                                     create().
                                     setInterpolator( lerps[j][i] ).
                                     setBounds( 10, 10, 80, 80 ).
                                     setFillStyle('#d0d0d0') );

                         _director_1.loop(1);
                     }
                 }

             })();
         </script>
    </div>

    <div>
         <h2>Elastic Interpolator</h2>
        <div>
            <table cellpadding="5">
                <tr>
                    <td colspan="3" align="center">Pinpong=<b>false</b></td>
                    <td colspan="3" align="center">Pinpong=<b>true</b></td>
                </tr>
                <tr>
                    <td>Parameters</td>
                    <td>ElasticIn</td>
                    <td>ElasticOut</td>
                    <td>ElasticInOut</td>
                    <td>ElasticIn</td>
                    <td>ElasticOut</td>
                    <td>ElasticInOut</td>
                </tr>
                <tr>
                    <td><span id="_elastic_info0"></span></td>
                    <td><canvas id='_Elastic_0'></canvas></td>
                    <td><canvas id='_Elastic_1'></canvas></td>
                    <td><canvas id='_Elastic_2'></canvas></td>
                    <td><canvas id='_Elastic_3'></canvas></td>
                    <td><canvas id='_Elastic_4'></canvas></td>
                    <td><canvas id='_Elastic_5'></canvas></td>
                </tr>
                <tr>
                    <td><span id="_elastic_info1"></span></td>
                    <td><canvas id='_Elastic_6'></canvas></td>
                    <td><canvas id='_Elastic_7'></canvas></td>
                    <td><canvas id='_Elastic_8'></canvas></td>
                    <td><canvas id='_Elastic_9'></canvas></td>
                    <td><canvas id='_Elastic_10'></canvas></td>
                    <td><canvas id='_Elastic_11'></canvas></td>
                </tr>
            </table>
        </div>
         <script>
             (function() {
                 var msgs= [
                     'amp=1.1, liquid=.4',
                     'amp=1.0, liquid=.2' ];
                 var lerps= [
                     [
                        new CAAT.Interpolator().createElasticInInterpolator(    1.1, .4, false),
                        new CAAT.Interpolator().createElasticOutInterpolator(   1.1, .4, false),
                        new CAAT.Interpolator().createElasticInOutInterpolator( 1.1, .4, false),

                        new CAAT.Interpolator().createElasticInInterpolator(    1.1, .4, true),
                        new CAAT.Interpolator().createElasticOutInterpolator(   1.1, .4, true),
                        new CAAT.Interpolator().createElasticInOutInterpolator( 1.1, .4, true)
                     ],
                     [
                        new CAAT.Interpolator().createElasticInInterpolator(    1.0, .2, false),
                        new CAAT.Interpolator().createElasticOutInterpolator(   1.0, .2, false),
                        new CAAT.Interpolator().createElasticInOutInterpolator( 1.0, .2, false),

                        new CAAT.Interpolator().createElasticInInterpolator(    1.0, .2, true),
                        new CAAT.Interpolator().createElasticOutInterpolator(   1.0, .2, true),
                        new CAAT.Interpolator().createElasticInOutInterpolator( 1.0, .2, true)
                    ]
                 ];

                 var i, j, count=0;
                 for( j=0; j<lerps.length; j++) {
                     document.getElementById('_elastic_info'+j).innerHTML=msgs[j];
                     for( i=0; i<lerps[j].length; i++) {

                         var _director_1= new CAAT.Director().initialize(
                                 100,
                                 140,
                                 document.getElementById('_Elastic_'+count++));

                         var _scene_1= new CAAT.Scene().create();

                         _director_1.addScene( _scene_1 );

                         _scene_1.addChild(
                                 new CAAT.InterpolatorActor().
                                     create().
                                     setInterpolator( lerps[j][i] ).
                                     setBounds( 10, 30, 80, 80 ).
                                     setFillStyle('#d0d0d0') );

                         _director_1.loop(1);
                     }
                 }

             })();
         </script>
    </div>

</div>


</body>
</html>